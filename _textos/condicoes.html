<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor Express - Condições</title>
    <link rel="stylesheet" href="../_css/style.css">
    <link rel="shortcut icon" href="../_imagens/ge-favicon.ico" type="image/x-icon">
    <script src="https://kit.fontawesome.com/316dcb45b5.js" crossorigin="anonymous"></script>
</head>
<body>
<main>
    <header>
        <figure>
            <a href="../index.html"><img id="logo" src="../_imagens/logo.png" alt="Logotipo Gestor Express"></a>
        </figure>
        <div id="cabecario">
            <h1>Gestor Express</h1>
            <h2>Gerenciamento de Fluxo de Trabalho</h2>
        </div>
    </header>

    <aside id="lado">

        <h1>Condições</h1>
        <h2>Conteúdo:</h2>
        <ol>
            <li><a href="#item1">Visão geral</a></li>
            <li><a href="#item2">Entendendo as Condições</a></li>
            <ol type="A">
                <li><a href="#item2a">Variáveis em Condições</a></li>
                <li><a href="#item2b">Operadores de comparação em condições</a></li>
                <li><a href="#item2c">Conversão de tipo</a></li>
                <li><a href="#item2d">Matemática em condições</a></li>
                <li><a href="#item2e">Operadores lógicos em condições</a></li>
                <li><a href="#item2f">Strings em Condições</a></li>
                <li><a href="#item2g">Precedência do Operador em Condições</a></li>
            </ol>
            <li><a href="#item3">Condições com campos de Formulários</a></li>
            <ol type="A">
                <li><a href="#item3a">Caixas de texto e caixas de sugestões</a></li>
                <li><a href="#item3b">Áreas de texto</a></li>
                <li><a href="#item3c">Data hora</a></li>
                <li><a href="#item3d">Caixas de seleção</a></li>
                <li><a href="#item3e">Dropdowns e Radiogrupos</a></li>
                <li><a href="#item3f">Grupos de verificação</a></li>
                <li><a href="#item3g">Arquivos</a></li>
                <li><a href="#item3h">Grades</a></li>
            </ol>
            <li><a href="#item4">Definir condições</a></li>
            <ol type="A">
                <li><a href="#item4a">Condições para gatilhos</a></li>
                <li><a href="#item4b">Condições nas regras de roteamento</a></li>
                <li><a href="#item4c">Condições para o Gestor Express Mobile</a></li>
            </ol>
            <li><a href="#item5">Erros nas Condições</a></li>
            <ol type="A">
                <li><a href="#item5a">Problemas Comuns de Condição</a></li>
            </ol>
        </ol>
    </aside>

    <section id="principal">
               
        <h1 id="item1">Visão geral</h1>
            <p>O Gestor Express usa condições em várias situações diferentes para determinar se a execução acontece ou não. As condições são avaliadas como verdadeiras ou falsas, com base na lógica booleana encontrada no PHP. As condições podem ser definidas para etapas (Formulários, Documentos de entrada, Documentos de saída e gatilhos), Avaliação e gateways paralelos e eventos.</p>
            
            <p>Além disso, as condições podem ser criadas para mostrar ou ocultar elementos em um formulário dinâmico usando a lógica booleana do JavaScript.</p>
        
        <article>
            <h1 id="item2">Entendendo as Condições</h1>
            <p>As condições no Gestor Express são baseadas na lógica booleana, que é a ideia de que qualquer expressão pode ser avaliada para um valor de Verdadeiro ou Falso. Se a expressão for verdadeira, a execução ocorrerá. Se for falso, nenhuma execução ocorrerá. No Gestor Express, uma condição pode assumir várias formas. Estes são todos os tipos válidos de condições:</p>
            <table class="textbox">
                <thead>
                    <th>Condição</th><th>Descrição</th></tr>
                </thead>
                <tbody>
                    <td> 3124.5</td><td>Um número de ponto flutuante que é avaliado como verdadeiro</td></tr>
                    <td> "Olá Mundo!"</td><td>Uma string que é avaliada como verdadeira</td></tr>
                    <td> false</td><td>O valor booleano de falso</td></tr>
                    <td> @@TipoContato</td><td>Uma variável de processo</td></tr>
                    <td> @%Total == 400</td><td>Comparação de igualdade com um inteiro</td></tr>
                    <td> check === @@TipoPagamento</td><td>Comparação de igualdade entre strings</td></tr>
                    <td> @@USR_USERNAME != "Supervisor"</td><td>Comparação de não igualdade entre strings</td></tr>
                    <td> @#VrNotaFiscal > 100.00</td><td>Maior que => Comparação com um número de ponto flutuante</td></tr>
                    <td>max(@#NotaFiscal, @#TotalConta) < 1000</td><td>Menor que => Comparação com o valor de retorno de uma função</td></tr>
                    <td> (@#Preco - @#Desconto) * @%Quantidade <= 3000</td><td>Menor que => Comparação com uma operação matemática usando () para priorizar elementos</td></tr>
                    <td> (@#Valor >= 5000.00 and @@prioridade == "high")</td><td>Duas comparações unidas por AND</td></tr>
                    <td>((@@contato=="vendas" ou @@contato=="lead") e !(@@prioridade=="high"))</td><td>Lógico OR, AND, NOT usando () para priorizar elementos</td></tr>
                </tbody>
            </table>
            <div>
                <h2 id="item2a">Variáveis em Condições</h2>
                <p>As condições podem conter variáveis de sistema ou de processo, que são precedidas por um sinal e, em seguida, outro símbolo que indica como a variável é analisada:@</p>
                <table class="tab2">
                    <thead>
                        <tr><th width= "15%">Tipo de variável</th><th>Descrição</th></tr>
                    </thead>
                    <tbody>
                        <tr><td width="15%"> @@ nome_variável</td><td>A variável será analisada como uma <strong>string</strong> . Se originalmente outro tipo, ele será convertido em uma string. Então -1, 0 e 12,45 se tornam "-1", "0" e "12,45", respectivamente.</td></tr>
                        <tr><td> @% nome_variável</td><td>A variável será analisada como um <strong>inteiro</strong> (um número inteiro). Se originalmente outro tipo, ele será convertido em um inteiro. Um número real será convertido em um número inteiro, então 12,45 se tornará 12. Uma string que contém números será convertida em um número inteiro, então "655" e "34,19" se tornarão 655 e 34, respectivamente.</td></tr>
                        <tr><td> @# nome_variável</td><td>A variável será analisada como tipo <strong>float</strong> (um número real com decimais).</td></tr>
                        <tr><td> @= nome_variável</td><td>A variável não será alterada e será analisada como seu tipo original.</td></tr>
                    </tbody>
                </table>

                <p>Variáveis de processos são variáveis que contêm informações sobre um processo e são criadas quando um campo em um formulário dinâmico é enviado ou quando definido em um gatilho. Os nomes de variáveis devem começar com uma letra ou underline e se diferenciam entre maiúsculas de minúsculas, portanto @@_myvar, @@myvar, @@MyVar, @@MYVAR e @@myvar2 são cinco variáveis diferentes. Certifique-se de soletrar as variáveis de processo exatamente como seus nomes de campo no Formulário Dinâmico ou como elas foram definidas em um gatilho.</p>
                <p>As condições NÃO podem conter variáveis PHP locais ou globais que foram definidas em gatilhos, mas podem usar variáveis superglobais do PHP, como $_SERVER ['SERVER_ADDR'] e  $_ENV['PATH'].</p>
                <p>Se uma condição contiver apenas uma variável (e nada mais), o valor da variável será examinado e avaliado para verdadeira ou falsa. No PHP, um valor só é considerado falso quando é um dos seguintes valores:</p>

                <table class="tab3">
                    <thead>
                        <tr><th width="150px">Valor</th><th width="300px">Descrição</th></tr>
                    </thead>
                    <tbody>
                        <tr><td width="150px">FALSE</td><td width="200px">O valor booleano de falso</td></tr>
                        <tr><td>0</td><td>Um inteiro zero</td></tr>
                        <tr><td>0.0</td><td>Um zero flutuante</td></tr>
                        <tr><td>" "</td><td>Uma cadeia vazia</td></td>
                        <tr><td>"0"</td><td>Uma string com valor zero</th></tr>
                        <tr><td>array()</td><td>Um array com zero elementos</td></tr>
                        <tr><td>new StdClass()</td><td>Um objeto com zero variáveis de membro</td></tr>
                        <tr><td>NULL</td><td>Um valor especial que significa "sem valor"</td></tr>
                    </tbody>
                </table>

                <p>Todos os outros valores em PHP são considerados verdadeiros. Por exemplo, todos esses valores são considerados true:</p>
                <table class="tab3">
                    <thead>
                        <tr><th>Valor</th><th>Descrição</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>TRUE</td><td>O valor booleano de verdadeiro</td></tr>
                        <tr><td>97</td><td>Um número inteiro positivo</td></tr>
                        <tr><td>-4</td><td>Um número inteiro negativo</td></tr>
                        <tr><td>100.99</td><td>Uma flutuação positiva</td></tr>
                        <tr><td>-4.23</td><td>Um flutuador negativo</td></tr>
                        <tr><td>"uma bela string"</td><td>Uma string não vazia</td></tr>
                        <tr><td>array("jack", "jill", "hill")</td><td>Uma matriz não vazia</td></tr>
                    </tbody>
                </table>
            </div>
            <div>           
                <h2 id="item2b">Operadores de comparação em condições</h2>
                <p>Se uma condição contiver um operador de comparação, como igual, maior ou menor que, os valores à direita e à esquerda do operador serão comparados e avaliados com verdadeiro ou falso. Os seguintes operadores de comparação estão disponíveis em PHP:</p>

                <table class="tab4">
                    <thead>
                        <tr><th width="8%">Operador</th><th width="25%">Descrição</th><th width="17%">Exemplo</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>==</td><td>É igual a</td><td>@@CurrencyType == "dollars"</td></tr>
                        <tr><td>===</td><td>Igual ao mesmo tipo de variável</td><td>@%Total === 100</td></tr>
                        <tr><td><></td><td>Não igual</td><td>@@CurrencyType <> "euros"</td></tr>
                        <tr><td>!=</td><td>Não igual</td><td>@%Total != 0</td></tr>
                        <tr><td>!==</td><td>Não igual ao mesmo tipo de variável</td><td>@=RunTest !== false</td></tr>
                        <tr><td><</td><td>Menor que</td><td>@%Total < 1000</td></tr>
                        <tr><td><=</td><td>Menos que ou igual a</td><td>@#SubTotal <= @#Total</td></tr>
                        <tr><td>></td><td>Maior que</td><td>@#Balance > 0</td></tr>
                        <tr><td>>=</td><td>Melhor que ou igual a</td><td>pow(@#Total, 3) >= @#Limit</td></tr>
                    </tbody>
                </table>
                <h2 id="item2c">Conversão de tipo</h2>
                <p>Geralmente, é uma boa ideia usar o tipo correto de variável ao fazer comparações, portanto, se comparar com uma string, use <strong>@@ nome_variavel</strong>. Se comparar com um inteiro, use <strong>@% nome_variavel</strong>. Se comparar com um número de ponto flutuante, use <strong>@# nome_variavel</strong>. Se comparar com um valor booleano, um array ou um objeto, use <strong>@= nome_variavel</strong>. No entanto, se os tipos não corresponderem, o PHP tentará converter ambos os valores para o mesmo tipo antes de fazer a comparação. Devido à conversão de tipo, as seguintes condições são consideradas <strong>verdadeiras</strong>:</p>   

                <table class="tab2">
                    <thead>
                        <tr><th width="10%">Condição verdadeira</th><th width="50%">Descrição</th></tr>
                    </thead>
                    <tbody>
                        <tr><td> "42" == 42</td><td>A string "42" é convertida no inteiro 42, depois comparada.</td></tr>
                        <tr><td>" 42 "  == 42</td><td>A string " 42 " é convertida no inteiro 42 (os espaços são ignorados) e depois comparado.</td></tr>
                        <tr><td>"42 sapos" == 42</td><td>A string "42 frogs" é convertida no inteiro 42, depois comparada. Somente strings que começam com números podem ser convertidas em números inteiros ou floats.</td></tr>
                        <tr><td>42 == 42.0</td><td>O inteiro 42 é convertido no float 42.0, então comparado.</td></tr>
                        <tr><td>0 == false</td><td>O inteiro 0 é convertido no booleano FALSE, então comparado.</td></tr>
                        <tr><td>42 == true</td><td>O inteiro 42 é convertido no booleano TRUE, então comparado.</td></tr>
                        <tr><td> " " == false</td><td>A string vazia "" é convertida no booleano FALSE, então comparada</td></tr>
                        <tr><td>"Olá" == true</td><td>A string "Olá" é convertida no booleano TRUE, então comparada.</td></tr>
                    </tbody>
                </table>
                <p>Para evitar que a comparação converta tipos de valor, use os operadores <strong>===</strong> e <strong>!==</strong>, que só serão avaliados verdadeiros ao comparar os mesmos tipos de valores, então <strong>"42"==42</strong> é verdadeiro, mas <strong>"42"===42</strong> é falso</p>

                <p>Embora a conversão automática de tipo possa ser útil, lembre-se de que a conversão não arredondará números, nem truncará strings. Aqui estão algumas soluções para problemas comuns em condições:</p>

                <table class="tab2">
                    <tbody>
                        <tr>
                            <th style="width: 20%;">Condição Falsa</th>
                            <th>Problema</th>
                            <th>Solução</th>
                            <th style="width: 35%;">Exemplos</th>
                        </tr>
                
                        <tr>
                            <td style="vertical-align: middle;"><code>42 == 42.1</code></td>
                            <td style="vertical-align: middle;">O inteiro 42 é convertido para float 42.0, que não é igual 42.1, então a condição é avaliada como falsa.</td>
                            <td style="vertical-align: middle;">Use a conversão do tipo (int) ou a análise da variável @% para converter um float em um inteiro.</td>
                            <td style="vertical-align: middle;"><code>42 == (int) 42.1<br>42 == @%Total</code></td>
                        </tr>
                
                        <tr>
                            <td style="vertical-align: middle;"><code>42 == (int) 41.999</code></td>
                            <td style="vertical-align: middle;">Quando o float 41.999é convertido em um inteiro, todos os números decimais são simplesmente descartados e não há arredondamento, então a comparação é <code>42 == 41</code>.</td>
                            <td style="vertical-align: middle;">Use a função round() do PHP para arredondar para o inteiro mais próximo. Use também as funções ceil() e floor() para arredondar um número para cima ou para baixo.</td>
                            <td style="vertical-align: middle;"><code>42 == round(41.999)<br>42 == round(@#Total)</code></td>
                        </tr>
                        <tr>
                            <td style="vertical-align: middle;"><code>5 / 2 == 2.5</code></td>
                            <td style="vertical-align: middle;">Isto é falso, porque o inteiro 5 é dividido pelo inteiro 2. Como ambos são inteiros, o resultado é o inteiro 2 (o resto é descartado). Em seguida, o inteiro 2 é convertido em float 2.0 para comparar com <code>2.5</code>.</td>
                            <td style="vertical-align: middle;">Use o tipo (float) ou faça referência à variável como @# para converter um dos números em um float antes de dividir. Isso causará uma divisão de ponto flutuante, para que o restante não seja perdido.</td>
                            <td style="vertical-align: middle;"><code>5 / (float) 2 == 2.5<br>5 / @#var == 2.5</code></td>
                        </tr>
                        <tr>
                            <td style="vertical-align: middle;"><code>42.12 == 42.123</code></td>
                            <td style="vertical-align: middle;">Para que dois floats sejam iguais, seus números decimais também devem ser iguais.</td>
                            <td style="vertical-align: middle;">Especifique o número de pontos decimais para arredondar antes de comparar.</td>
                            <td style="vertical-align: middle;"><code>42.12 == round(42.123, 2)<br>42.12 == round(@#Total, 2)</code></td>
                        </tr>
                        <tr>
                            <td style="vertical-align: middle;"><code>"Hel" == "Hello"</code></td>
                            <td style="vertical-align: middle;">A condição é falsa, porque as strings precisam ter o mesmo número de caracteres para serem iguais.</td>
                            <td style="vertical-align: middle;">Use a função substr() do PHP para cortar a string para um número definido de caracteres antes de comparar. Para comparar um número variável de caracteres, use a função strlen(). Para procurar uma string dentro de outra string, use a função strstr().</td>
                            <td style="vertical-align: middle;"><code>"Oi" == substr("hello", 0, 3)<br>"hel" == substr(@@s, 0, 3)<br>@@s1 == substr(@@s2, 0, strlen(@@s1))<br>strstr(@@s,
                                "hel")</code>
                            </td>
                        </tr>
                        <tr>
                            <td style="vertical-align: middle;"><code>"hello" == " hello "</code></td>
                            <td style="vertical-align: middle;">A condição é falsa, porque o PHP não elimina espaços ao comparar strings.</td>
                            <td style="vertical-align: middle;">Use a função trim() do PHP para eliminar qualquer espaço em branco (incluindo tabulações e retornos) do início ou fim de uma string. Use também ltrim() ou rtrim() para eliminar apenas do início ou do final de uma string.</td>
                            <td style="vertical-align: middle;"><code>"hello" == trim(" hello ")<br>"hello" == trim(@@Greet)</code></td>
                        </tr>
                        <tr>
                            <td style="vertical-align: middle;"><code>"HeLlO" == "hello"</code></td>
                            <td style="vertical-align: middle;">A condição é falsa, porque a comparação de strings diferencia maiúsculas de minúsculas.</td>
                            <td style="vertical-align: middle;">Use strtoupper() ou strtolower() para converter as strings para o mesmo caso, ou use strcasecmp() ou strncasecmp() para fazer comparações que não diferenciam maiúsculas de minúsculas.</td>
                            <td style="vertical-align: middle;"><code>strtolower("HeLlo") == "hello"<br>strtoupper(@@s1) == strtoupper(@@s2)<br>!strcasecmp(@@s1, @@s2)</code></td>
                        </tr>
                    </tbody>
                </table>


                <h2 id="item2d">Matemática em condições</h2>
                <p>As condições podem usar os operadores matemáticos do PHP, como - (negação), + (adição), - (subtração), * (multiplicação), / (divisão), % (módulo, ou seja, resto da divisão). Ao usar operadores matemáticos, tenha em mente as regras de precedência do operador e lembre-se de usar parênteses para avaliar certos elementos antes de outros elementos na expressão.</p>

                <p>Para fazer operações matemáticas mais avançadas, use as funções matemáticas do PHP, como pow(), max(), min(), sin(), cos(), log(), abs(), etc.</p>

                <h2 id="item2e">Operadores lógicos em condições</h2>

                <p>As condições também podem usar operadores lógicos para unir várias expressões e construir condições complexas.</p>

            <table class="tab2">
                <thead>
                    <tr><th width="80px">Operador</th><th width="120px">Exemplo</th><th width="350px">Descrição</th><tr>
                </thead>
                <tbody>
                    <tr><td>e</td><td>(@@a e @@b)</td><td>Verdadeiro se @@a e @@b forem Verdadeiro.</td><tr>
                    <tr><td>&&</td><td>(@@a && @@b)</td><td>Verdadeiro se @@a e @@b forem Verdadeiro. && é como o operador and, mas tem uma precedência de operador mais alta.</td><tr>
                    <tr><td>ou</td><td>(@@a ou @@b)</td><td>Verdadeiro se @@a ou @@b for Verdadeiro.</td><tr>
                    <tr><td>||</td><td>(@@a || @@b)</td><td>Verdadeiro se @@a ou @@b for Verdadeiro. || é como o operador or, mas tem uma precedência de operador mais alta.</td><tr>
                    <tr><td>xor</td><td>(@@a xor @@b)</td><td>Verdadeiro se @@a ou @@b for Verdadeiro, mas não ambos.</td><tr>
                    <tr><td>!</td><td>!@@a</td><td>Reverte o resultado, então Verdadeiro se torna falso e falso se torna Verdadeiro.</td><tr>
                </tbody>
            </table>
            <p>Como <strong>true</strong> e <strong>false</strong>, a grafia dos operadores <strong>and</strong>, <strong>or</strong>, <strong>xor</strong> não diferencia maiúsculas de minúsculas, portanto, e também pode ser escrita como <strong>And</strong>, <strong>And</strong>, <strong>AND</strong>, etc</p>.

            <p><font color="red"><strong>Aviso:</strong></font> Se estiver usando os operadores lógicos AND, OR, XOR, &&, || em uma condição, é recomendável colocar a instrução entre parênteses () para garantir que toda a instrução seja avaliada e não apenas a primeira parte da instrução. Também é recomendável usar &&e ||em vez de AND, OR, XOR. Nas versões recentes do Gestor Express, a seguinte condição:</p>

            <p><code>@@myvar != "X" AND @@myvar != "Y"</code></p>
            <p>é avaliado como:</p>
            <p><code>@@myvar != "X"</code></p>
            <p>Para garantir que toda a instrução seja avaliada, coloque-a entre parênteses:</p>
            <p><code>(@@myvar != "X" AND @@myvar != "Y")</code></p>
            
            <h2 id="item2f">Strings em Condições</h2>
            <p>A maioria dos dados inseridos nos campos dos formulários Dinâmicos são armazenados como <strong>strings</strong>, portanto, é útil saber como lidar com strings no Gestor Express.</p>

            <p>Todas as strings devem ser colocadas entre aspas simples <code>'...'</code> ou aspas duplas <code>"..."</code>.</p>

            <p>Aspas simples tratam a string incluída como texto simples, o que significa que nenhum dos caracteres na string será interpretado como um caractere de escape. Em aspas duplas, as sequências de escape são interpretadas junto com quaisquer variáveis e serão substituídas por seus valores. Por exemplo, entre aspas duplas <code>\t</code> é interpretado como uma guia horizontal.</p>

            <ul>
                <li><strong>Variáveis em Strings:</strong> Ao contrário das variáveis PHP normais, que podem ser inseridas dentro de strings com aspas duplas, como <code>"Eu digo $olá para você"</code> ou <code>"Dê {$arrayNames['Gerente']} a correspondência"</code>, as variáveis de processos do Gestor Express não podem ser inseridas dentro de strings com aspas duplas, portanto <code>"Eu digo $olá para você"</code> NÃO funcionarão.</li>
                <li>
                    <strong>Concatenar strings:</strong> PHP usa o operador ponto <code>"."</code> para concatenar strings. Por exemplo: <code>"Olá" . " " . "World!"</code> interpreta como <strong>"Olá Mundo!"</strong>.
                    <p>Pessoas acostumadas à outras linguagens normalmente tentam escrever <code>"Olá" + " " + "Mundo!"</code>, mas o PHP usa apenas o operador + para adicionar inteiros e floats, então ele tentará converter cada string em um inteiro ou float e depois adicioná-los.</p>
                    <p>Se a string começar com um número (como <code>'42 é a resposta'</code> ou <code>" 3.5 patos"</code>), ela será convertida com sucesso em um inteiro ou float. Caso contrário, a string se tornará zero, então <code>"Olá" + " " + "Mundo!"</code> se torna <code>0 + 0 + 0</code>.</p>
                </li>
                <li>
                    <strong>Concatenar strings e variáveis do</strong> Gestor Express: As variáveis do sistema e do processo do Gestor Express podem ser concatenadas. Lembre-se de referenciá-las como <code>@@nome_variavel</code>, para que sejam analisadas como strings:
                    <code>"Olá " . @@USR_USERNAME</code>
                    <code>@@Nome . ' ' . @@Sobrenome</code>
                </li>
                
                <li><strong>Comparando Strings</strong>: <code>===</code> Para que a condição seja avaliada corretamente ao comparar strings, deve-se utilizar o operador triplo-igual. O uso de <code>==</code> não é recomendado devido aos resultados imprevisíveis.</li>
            </ul>
            <codeblock>@@USUARIO_LOGADO   === "00000000000000000000000000000001"</codeblock>

            <figure>

            </figure>

            <h2 id="item2g">Precedência do Operador em Condições</h2>
            <p>Uma condição é avaliada de acordo com as regras de precedência de operadores, portanto, determinados operadores serão executados antes de outros operadores.</p>

            <p>Por exemplo, como o Gestor Express sabe se <code>2 + 3 * 4</code> é igual <code>20</code> ou <code>14</code>? Se a adição tem precedência sobre a multiplicação, então primeiro <code>2 + 3 = 5</code>, depois <code>5 * 4 = 20</code>. Se a multiplicação tem precedência, então primeiro <code>3 * 4 = 12</code>, então <code>2 + 12 = 14</code>. Como o Gestor Express usa as regras PHP de precedência de operadores, a multiplicação tem precedência mais alta do que a adição, então o resultado é <code>14</code>.</p>

            <p>Na tabela a seguir, os operadores são ordenados de acordo com sua precedência, com a precedência mais alta na parte superior. Portanto, os parênteses "()" têm a precedência mais alta e as vírgulas "," têm a menor.</p>

            <table class="tab2">
                <thead>
                    <tr><th width="15%">Operadores</th><th width="35%">Descrição</tr><tr>
                </thead>
                <tbody>
                        <tr><td>( )</td><td>Agrupa elementos para dar a eles a maior precedência.</td><tr>
                        <tr><td>[ ]</td><td>Acessar um elemento em um array ou um caractere em uma string</td><tr>
                        <tr><td>++ --</td><td>Operador de incremento ou decremento</td><tr>
                        <tr><td>#NOME?</td><td>Negação, conversão de tipos como (int), (float), (string), (boolean), etc.</td><tr>
                        <tr><td>!</td><td>NOT lógico (inverso de verdadeiro ou falso )</td><tr>
                        <tr><td>* / %</td><td>Multiplicação, divisão, módulo</td><tr>
                        <tr><td>+ - .</td><td>Adição, subtração, concatenação de strings</td><tr>
                        <tr><td>< <= > >= <></td><td>Maior que, menor que, diferente de</td><tr>
                        <tr><td>== != === !==</td><td>Igual, não igual, igual mesmo tipo, não igual mesmo tipo</td><tr>
                        <tr><td>&&</td><td>E Lógico</td><tr>
                        <tr><td>||</td><td>OU lógico</td><tr>
                        <tr><td>? :</td><td>Operador ternário para construir instruções if-then-else</td><tr>
                        <tr><td>= ^= <<= >>= =></td><td>Operadores de atribuição</td><tr>
                        <tr><td>e</td><td>E Lógico</td><tr>
                        <tr><td>xor</td><td>XOR lógico</td><tr>
                        <tr><td>ou</td><td>OU lógico</td><tr>
                        <tr><td>,</td><td>Parâmetros separados por vírgulas em chamadas de função e elementos em arrays</td><tr>
                    </tbody>
            </table>

            <p>Se os operadores tiverem a mesma precedência, eles serão analisados da esquerda para a direita. Por exemplo, na expressão <code>5 - 6 / 2 . " para você!"</code>, a divisão tem a precedência mais alta, então 6/2 acontecerá primeiro. A subtração e a concatenação de strings (que é o operador ".") têm a mesma precedência, portanto, o operador mais à esquerda, que é a subtração, acontecerá primeiro, seguido pela concatenação. Segue a ordem de operação:</p>

            <ul type="disc">
                <li><code>6 / 2 = 3</code></li>
                <li><code>5 - 3 = 2</code></li>
                <li>Inteiro 2 convertido na string "2", então:<code>"2" . " por você"</code> = <code>"2 por você!</code>"</li>
            </ul>

            <p>Para alterar a ordem das operações, coloque parênteses em torno dos elementos para dar a eles a precedência mais alta. Por exemplo, a expressão <code>@#Preco - @#Desconto * @%Quantitdade</code> não pode ser usada para calcular o preço total, pois o desconto precisa ser subtraído antes de multiplicar pela quantidade. Portanto, os parênteses podem ser usados ​​para primeiro subtrair e depois multiplicar:<code>(@#Preco - @#Desconto) * @%Quantitdade</code></p>

            <p>Os parênteses podem ser aninhados quantas vezes forem necessárias. Por exemplo:<code>((@#Preco - @#Desconto) * @%Quantitdade) * @#Imposto</code></p>

            <p>Os parênteses podem ser úteis quando combinados com "!" (NÃO lógico) para fazer o inverso de uma comparação. Por exemplo, na expressão <code>!(@%Quantia > 1000)</code>, se o valor for maior que 1.000, o resultado verdadeiro será invertido para falso pelo operador "!".</p>

            <p>Na dúvida sobre a precedência, é uma boa ideia usar parênteses, pois torna a precedência explícita e o código é mais fácil de entender.</p>                
        </div>
        <div>
            <h1 id="item3">Condições com campos de Formulários Dinâmicos</h1>
            <p>Quando um formulário dinâmico é enviado, uma variável de processo é criada para cada um dos campos contidos no formulário dinâmico. Essas variáveis de processo podem ser usadas posteriormente no processo e adicionadas às condições.</p>

            <h2 id="item3a">Caixas de texto e caixas de sugestões</h2>
            <p>Os valores de caixa de texto e caixa de sugestão são armazenados como strings para que possam ser referenciados em condições como <code>@@nome_campo</code>. Por exemplo, um controle de data e hora chamado "datetime_1" pode ter uma condição para exibir apenas a data atual se o usuário não preencher uma caixa de texto chamada "textVar" e uma caixa de sugestão chamada "suggestVar".</p>

            <codeblock>( <font color="red">vazio</font> ( @@ sugertVar ) e <font color="red">vazio</font> ( @@ textVar ) )</codeblock>
            <p>Para recriar este exemplo, primeiro crie o Formulário Dinâmico mostrado na imagem abaixo antes de colocar a condição.</p>

            <figure>
                <img src="../_imagens/condicoes-exemplo.png" alt="Exemplo de condições">
            </figure>

            <p>Este Formulário Dinâmico contém os seguintes controles:</p>

            <table class="tab4">
                <thead>
                    <tr><th width="25%">Tipo de Controle</th><th width="25%">ID</th><th width="25%">Rótulo</th><th width="25%">Nome Variável</th></tr>
                </thead>
                <tbody>
                    <tr><td>Textbox</td><td>textVar01</td><td>Texto</td><td>textVar1</td></tr>
                    <tr><td>Suggest Box</td><td>sugestao01</td><td>Sugestão</td><td>sugestaoVar1</td></tr>
                    <tr><td>Datetime</td><td>datetime01</td><td>Data</td><td>datetimeVar1</td></tr>
                    <tr><td>Dropdown</td><td>gruposuspenso01</td><td>Grupo</td><td>dropdownVar1</td></tr>
                </tbody>
            </table>

            <p>Em seguida, crie um acionador acessando a caixa de ferramentas Objertos do processo. Localize a opção Gatilhos, passe o ponteiro do mouse sobre o sinal de mais (+) e clique no botão <strong>Criar</strong>.</p>

            <figure id="detalhe">
                <img src="../_imagens/objetos-processo.png" alt="Objetos do Processo">
            </figure>

            <p>Na janela Criar gatilho personalizado, coloque o código a seguir dentro da caixa Código.</p>

            <codeblock>@@ datetimeVar = getCurrentDate ( ) ;</codeblock>

            <figure>
                <img src="../_imagens/editar-gatilho.png" alt="Exemplo de Gatilho">
            </figure>

            <p>Adicione o Formulário Dinâmico e o gatilho como etapas em uma das tarefas clicando com o botão direito do mouse na tarefa e selecionando <strong>Etapas</strong>.</p>

            <figure>
                <img src="../_imagens/gatilho-etapa.png" alt="Inserindo um atilho em uma tarefa">
            </figure>

            <p>Arraste e solte o gatilho onde ele precisa ir e clique no botão <strong>Condição</strong> como visto na imagem abaixo.</p>

            <figure>
                <img src="../_imagens/condicoes-etapa.png" alt="Etapas da Tarefa">
            </figure>

            <p>A janela Condição do Gatilho será exibida onde o código de condição pode ser adicionado.</p>

            <codeblock><font color="green">(</font><font color="red">empty</font><font color="green">(@@</font> sugertVar<font color="green">)</font> and <font color="red">empty</font><font color="green">(@@</font>textVar<font color="green">))</font></codeblock>

            <figure>
                <img src="../_imagens/condicoes-gatilho.png" alt="Condições do Gatilho">
            </figure>

            <p>Quando o processo for executado, o gatilho será executado com sucesso, conforme imagem abaixo. Se os campos "Texto" (variável: @@textVar1) e "Sugestão" (variável: @@sugestaoVar1) estiverem vazios, a hora atual será mostrada no campo "Data".</p>

            <figure>
                <img src="../_imagens/condicoes-teste.png" alt="Testando Condições de Gatilho">
            </figure>

            <h2 id="item3b">Áreas de texto</h2>
            <p>Referencie areas de texto como <code><strong>@@ <font color="red">field_name</font></strong></code> em condições. Áreas de texto podem ter várias linhas de entrada; portanto, as condições podem usar a função strlen() para contar o número de caracteres e/ou as funções count() e explode() para encontrar o número de retornos físicos na string. As condições podem também ser:</p>

            <codeblock><font color="red">strlen</font><font color="green">(@@</font>textareaVar1<font color="green">) ></font> <font color="magenta">10</font></codeblock>

            <p>ou</p>

            <codeblock><font color="red">count</font><font color="green">(</font><font color="red">explode</font><font color="green">(</font><font color="blue">"\n"</font><font color="red">, @@</font>textareaVar1<font color="green">)) ></font> <font color="magenta">40</font></codeblock>

            <p>Como exemplo, use a primeira condição como visto na imagem abaixo:</p>

            <figure>
                <img src="../_imagens/condicoes-gatilho2.png" alt="Condição de Gatilho, 2º exemplo">
            </figure>

            <p>A condição determina que, se o texto introduzido no controle "textarea_1" (variável: <code>@@textareaVar1</code>) tiver mais de 10 caracteres, o gatilho criado no exemplo Caixas de texto e Caixas de sugestão será acionado. Lembre-se que este gatilho mostra a data atual no controle "datetime_1".</p>

            <codeblock><font color="green">@@</font> datetimeVar <font color="green">=</font> getCurrentDate <font color="green">( ) ;</font></codeblock>

            <p>Se o controle <i>textarea_1</i> tiver menos de 10 caracteres, o controle <i>"datetime_1"</i> não mostrará nada. Observe as imagens abaixo:</p>

            <div id="ladoalado">
                <figure>
                    <img src="../_imagens/condicoes-processo24.png" alt="Área e Texto com menos de 10 caracteres">
                </figure>
                <figure>
                    <img src="../_imagens/condicoes-processo25.png" alt="Área e Texto com mais de 10 caracteres">
                </figure>
            </div>

            <h2 id="item3c">Data hora</h2>

            <p>As variáveis ​​de data e hora são armazenadas como strings no formato <code>"DD-MM-AAAA HH:MM:SS"</code>, como <code>"01-01-1999 01:01:01"</code> ou <code>"31-12-2010 23:59:59"</code>. Se o campo datetime não incluir as horas, minutos e/ou segundos na propriedade format, essas partes serão definidas como zeros. A variável <code>@@datetime_label</code> manterá o valor da data e hora no formato configurado para o campo.</p>

            <p>Por exemplo, se o formato for definido como "MM/DD/AAAA" para um campo de data e hora associado à variável "startDate", <code>@@startDate</code> poderá conter um valor como <code>"2017-12-28 00:00:00"</code> e <code>@@startDate_label</code> será definido como "28/12/2017". Da mesma forma, se o formato for "DD-MM-AAAA HH:mm", @@startDate poderá ter um valor como <code>"1998-05-25 09:35:00"</code> e <code>@@startDate_label</code> seria <code>"25-05-1998 09:35"</code>.</p>

            <p>Como as datas são armazenadas como strings, elas devem ser acessadas como <code>@@<font color="red"><i>field_name</i></font></code>. Para comparações simples, as datas no formato padrão "AAAA-MM-DD" podem ser comparadas como strings.</p>

            <codeblock>
                <p><font color="green">@@</font>ReceiveDate<font color="green"> @@</font>DueDate</p>
                <p><font color="green">@@</font>DueDate <font color="green"><</font> getCurrentDate<font color="green">() .</font>' '<font color="green">.</font> getCurrentTime<font color="green">()</font></p>
            </codeblock>

            <p>No entanto, comparações avançadas requerem que as datas sejam convertidas em timestamps PHP com a função strtotime() do PHP . Por exemplo, defina essa condição para exibir apenas o Formulário Dinâmico se a data atual não exceder a data de vencimento do caso mais 10 dias.</p>

            <codeblock><font color="red"><strong>strtotime</strong></font><font color="green">(</font><font color="blue">"+10 days"</font><font color="green">,</font> <font color="red"><strong>strtotime</strong></font><font color="green">(@@</font>DueDate<font color="green">)) ></font> <font color="red"><strong>time</strong></font><font color="green">()</font></codeblock>

            <p>Para fazer cálculos entre datas, é aconselhável usar a função DateTime::add.</p>

            <h2 id="item3d">Caixas de seleção</h2>

            <p>Por padrão, os campos de caixa de seleção são armazenados como matrizes com valores de:</p>

            <table class="tab3">
                <tr><td width="100px">Matriz ( 1 )</td><td width="100px">Se marcado</tr>
                <tr><td>Matriz ( 0 )</td><td>Se desmarcado</tr>
            </table>
               
            <p>Portanto, uma condição que verifica se um controle chamado "checkboxVar1" foi verificado será semelhante a:</p>

            <codeblock><font color="green">(@@</font>checkboxVar1<font color="green">[</font> <font color="magenta">0</font> <font color="green">] ==></font> <font color="magenta">1</font></codeblock>

            <p>Por exemplo, adicione a condição mostrada acima ao gatilho criado no exemplo Caixas de texto e Caixas de sugestão, para que o gatilho só seja acionado se a caixa de seleção estiver marcada.</p>

            <figure>
                <img src="../_imagens/condicoes-gatilho-checkbox.png" alt="Condição de Gatilho com Caixa de Seleção">
            </figure>

            <p>Portanto, ao executar um caso, caso o controle checkbox tenha sido clicado, como pode ser visto na imagem abaixo:</p>

            <figure id="detalhe">
                <img src="../_imagens/condicoes-controle.png" alt="Caixa de Seleção">
            </figure>

            <p>A condição acionará o gatilho que define a data atual no controle de data e hora.</p>
                
            <figure id="detalhe">
                <img src="../_imagens/condicoes-data.png" alt="Campo Data no formulário Dinâmico">
            </figure>

            <h2 id="item3e">Caixas Suspensas e Radiogrupos</h2>

            <p>Esses controles armazenam o valor (não o rótulo) da opção selecionada. Geralmente, caixas suspensas e radiogrupos são acessados como <code>@@field_name</code>, mas se os valores das opções forem inteiros, eles podem ser acessados como <code>@@field_name</code> ou <code>@%field_name</code>. Devido à conversão automática de tipo, <code>@%var == 2</code> ou <code>@@var == 2</code> significam a mesma coisa e ambos funcionariam. Exemplos:</p>

            <codeblock>
                <p>@@ ContactMethod == 'telefone'</p>
                <p>@@ ContactMethod != 'fax'</p>
                <p>@% ExpenseType != 2</p>
            </codeblock>

            <p>Para verificar o rótulo (não o valor) da opção selecionada em uma caixa suspensa, marque a opção <strong>Salvar rótulo do valor selecionado na variável</strong> ao definir a caixa suspensa. Em seguida, faça referência a ele como <code>@@ field_name _label</code>. Exemplo:</p>

            <codeblock><font color="green">@@</font>TipoDespesa_label <font color="green">!</font>= <font color="blue">"Impostos"</font></codeblock>

            <p>Por exemplo, adicione a seguinte condição a um gatilho em que uma das opções na lista suspensa seja a condição para que o gatilho seja executado.</p>

            <figure>
                <img src="../_imagens/condicoes-gatilho2.png" alt="Condições de Gatilho">
            </figure>

            <p>Escolha a opção adicionada ao gatilho.</p>

            <figure>
                <img src="../_imagens/#" alt="Figura a produzir">
            </figure>

            <p>E o gatilho, que mostrará a data atual, será executado.</p>

            <figure>
                <img src="../_imagens/#" alt="Figura a produzir">
            </figure>

            <h2 id="item3f">Caixa de Seleção</h2>

            <p color="orange">As Caixas de Seleção armazenam os valores das opções selecionadas como uma matriz. Os rótulos das opções selecionadas são armazenados também como uma matriz em uma string JSON em outra variável de processo com o mesmo nome da Caixa de Seleção acrescido da expressão "_label" anexada ao final. Ao contrário das caixas suspensas, que exigem uma opção selecionada, os grupos de verificação permitem que zero, uma ou várias opções sejam selecionadas.</p>

            <p>Por exemplo, um grupo de verificação cuja variável é denominada "OpcaoContato" tem as 4 opções a seguir:</p>

            <figure>
                <img src="../_imagens/condicoes-grupo-verificacao.png" alt="Caixa de Seleção">
            </figure>

            <p>Se as opções "Telefone" e "Outro" estiverem selecionadas, a variável <code>@@OpcoesContato</code> terá o seguinte valor:</p>

            <codeblock>array(2, 4)</codeblock>

            <p>E os rótulos das opções selecionadas serão armazenados na variável <code>@@OpcoesContato_label</code>, que é uma string JSON contendo uma matriz dos rótulos selecionados:</p>

            <codeblock>'["Telefone","Outro"]'</codeblock>

            <p>Para lidar com situações em que mais de duas opções podem ser selecionadas, é recomendável procurar um valor no array usando a função in_array().</p>

            <p>Para pesquisar se a opção "Telefone" foi selecionada no checkgroup "OpcoesContato", primeiro é necessário saber seu valor. A opção "Telefone" tem o valor "2", portanto, a condição será:</p>

            <codeblock><font color="red">in_array</font><font color="green">(</font><font color="blue">"2"</font>,<font color="green">@=</font>OpcoesContato<font color="green">))</font></codeblock>

            <p>Para pesquisar se a opção "Telefone" NÃO foi selecionada, use ! (NÃO Lógico):</p>

            <codeblock><font color="green">!</font><font color="red">in_array</font><font color="green">(</font> <font color="blue">"2"</font>,  <font color="green">@=</font>OpcoesContato<font color="green">))</font></codeblock>

            <p>Para pesquisar vários valores, o primeiro parâmetro de in_array() deve ser uma matriz dos valores a serem encontrados:</p>

            <codeblock><font color="red">in_array</font><font color="green">(</font><font color="red">array</font><font color="green">(</font><font color="blue">"1","2"</font><font color="green">)</font>, <font color="green">@=</font>OpcoesContato<font color="green">)</font></codeblock>

            <p>Se o usuário quiser pesquisar se a opção "Fax" foi selecionada usando os rótulos das opções selecionadas, use a função json_decode().</p>

            <codeblock><font color="red">in_array</font><font color="green">(</font><font color="blue">"Fax"</font>,  <font color="red">json_decode</font><font color="green">(@@</font> OpcoesContato_label<font color="green">))</font></codeblock>

            <p>Use count() para contar o número de opções selecionadas. Por exemplo, para verificar se mais de uma opção foi selecionada:</p>

            <codeblock><font color="red">count</font><font color="green">(</font><font color="green">@=</font> OpcoesContato<font color="green">)</font></codeblock>

            <h2 id="item3g">Arquivos</h2>

            <p>Os campos de arquivo armazenam o nome do arquivo carregado como uma string. Por exemplo, a seguinte condição pode ser usada para verificar se um arquivo foi carregado com a função empty() ou se a extensão do arquivo não é do tipo "doc":</p>

            <codeblock><font color="red">empty</font><font color="green">(@@</font>InvoiceFile) ou <font color="red">pathinfo</font><font color="green">(@@</font>InvoiceFile, PATHINFO_EXTENSION<font color="green">) !=</font><font color="blue"> "doc"</font></codeblock>

            
            <p>Se a condição vista na imagem abaixo for adicionada a um gatilho usando a função empty().</p>

            <figure>

            </figure>

            <p>Se o controle de arquivo estiver vazio, o gatilho será acionado e a data atual será mostrada no controle de data e hora, conforme mostrado na imagem abaixo.</p>

            <figure>

            </figure>

            <h2 id="item3h">Grids</h2>

            <p>Uma grid é armazenada em uma variável de caso' como um conjunto de matrizes associativas, portanto, deve ser referenciada como <strong>@=field_name</strong>, onde o nome do campo do objeto de grade em um formulário mestre é usado. A contagem de objetos no array começa a partir do número 1 (não 0 como um array normal). Cada linha é armazenada como uma matriz associativa onde os nomes dos campos da grid são as chaves e os dados inseridos são os valores.</p>

            <p>Verifique quantas linhas estão em uma grade usando a função count(). Por exemplo, para verificar se a grade "Produtos" tem mais de 3 linhas:</p>

            <codeblock><font color="red">count</font><font color="green">(@=</font>Produtos<font color="green">) ></font> <font color="magenta">3</font></codeblock>

            <p>Não é uma boa ideia fazer referência a uma linha de grid específica em uma condição, porque um erro será gerado se a linha não existir. Em vez disso, envolva a condição dentro de um operador ternário, que primeiro verifica se a linha existe.</p>

            <p>Por exemplo, para verificar se o campo Preço na primeira linha da grid Produtos é maior que 100, primeiro verifique se a linha existe com a função count(). Se existir, verifique o valor do primeiro campo Preço; caso contrário, retorne falso.</p>

            <codeblock><font color="red">count</font><font color="green">(@=</font>Produtos<font color="green">) ></font> <font color="magenta">1</font> ? <font color="green">@=</font>Produtos<font color="green">[</font>1<font color="green">][</font><font color="blue">'Preço'</font><font color="green">] ></font> <font color="magenta">100</font> <font color="green">: false</font></codeblock>

            <p>Se não tiver certeza se o formulário de grade foi enviado, é uma boa ideia primeiro verificar se a variável de caso de grid existe com isset().</p>
                
            <p>Por exemplo, para verificar se a caixa de seleção Importada Sim/Não na primeira linha da grade Produtos está marcada como "Sim" (que tem o valor 1):</p>

            <codeblock><font color="red">isset</font><font color="green">(@=</font>Produtos) e <font color="red">count</font><font color="green">(@=</font>Produtos<font color="green">) >=</font><font color="magenta">1</font> e <font color="green">@=</font>Produtos<font color="green">[</font><font color="magenta">1</font><font color="green">][</font>imported<font color="green">] ==</font> <font color="magenta">1</font></codeblock>

            <p>A primeira condição verifica se a grade existe, depois verifica se há pelo menos uma linha na grade e finalmente verifica se a opção "Sim" foi selecionada na caixa Sim/Não (Sim é 1, Não é 0).</p>

            <p>Para verificar se algum dos campos Preço em alguma das linhas é maior que 100, é recomendável disparar um gatilho antes da condição que passe por todas as linhas da grade e atribua o valor de retorno a uma variável de caso que possa ser verificada na condição. Por exemplo, use o seguinte gatilho:</p>

            <codeblock>
                <p><font color="green">@=</font>Over100 <font color="green">= false;</font></p>
                <p><font color="rgb(237, 252, 174)">foreach</font> <font color="green">(@=</font>Produtos as <font color="darkblue">$row</font><font color="green">) {</font></p>
                <p><font color="rgb(237, 252, 174)">if</font> <font color="reen"g>(</font><font color="darkblue">$row</font><font color="reen"g>[</font><font color="blue">'Preço'</font><font color="green">] ></font> 100<font color="reen"g>)</font></p>
                    <p><font color="green">@=</font>Over100 = <font color="green">true;</font></p>
                <p><font color="green">}</font></p>
            </codeblock>


            <p>Então use a seguinte condição:</p>

            <codeblock><font color="green">@=</font>Over100</codeblock>
        </div>
        </article>
          
        <article>
        <h1 id="item4">Definir condições</h1>

            <p>As condições podem ser definidas para vários elementos diferentes no Gestor Express.</p>
            
            <h2 id="item4a">Condições para gatilhos</h2>

            <p>Definir uma condição para um gatilho é semelhante a definir condições para outros tipos de etapas. Primeiro, atribua o gatilho para disparar em um ponto específico de uma tarefa. Em seguida, clique com o botão direito do mouse na tarefa no mapa do processo e selecione a opção <strong>Etapas</strong> no menu suspenso.</p>

            <figure id="detalhe">

            </figure>
                       
            <p>Quando a janela Etapas para a tarefa for aberta, adicione um gatilho como uma etapa. Em seguida, clique no botão <strong>Condição</strong>.</p>
            
            <figure>

            </figure>            
            
            <p>Ao abrir a janela Condição de Gatilho, há uma seção onde pode ser adicionada uma condição para a execução do trigger. Esta condição funcionará como um IF para a execução do gatilho. Observe que as variáveis de caso e de sistema podem ser adicionadas clicando no botão @@.</p>
            
            <figure>

            </figure>
            
            <p>Após clicar no botão @@, a janela Variáveis de Processo será exibida, onde as variáveis de caso e de sistema podem ser encontradas e adicionadas à condição.</p>
            
            <figure>

            </figure>
            
            <p>Depois que uma condição for adicionada ao gatilho, o botão Condição terá um asterisco próximo a ele, informando ao usuário que o gatilho tem uma condição que precisa ser atendida antes de ser acionado.</p>

            <figure>

            </figure>            
                     
            <h2 id="item4b">Condições nas regras de roteamento</h2>

            <p>As regras de roteamento podem usar condições para decidir quais caminhos seguir em um processo.</p>
            
            <p>Uma condição pode ser definida para cada caminho. Se a condição for avaliada como verdadeira, a próxima tarefa nesse caminho será executada. Se falsa, a próxima tarefa (e quaisquer tarefas subsequentes no mesmo caminho) não serão executadas. Se a condição em uma regra de roteamento for deixada em branco, a condição será avaliada como verdadeira e a próxima tarefa no caminho será executada.</p>
            
            <p>Adicione uma condição a um gateway clicando com o botão direito do mouse e selecionando a opção <strong>Propriedades</strong>.</p>

            <figure id="detalhe">

            </figure>
                        
            <p>Uma nova janela será aberta onde as condições das regras de roteamento do gateway podem ser definidas.</p>
            
            <figure>

            </figure>
            
            <p>Defina as condições para a regra de roteamento na seção Condição. Certifique-se de que pelo menos uma das condições será avaliada como verdadeira, caso contrário, um erro será lançado e o processo será interrompido nesse ponto. Lembre-se também que as regras de roteamento de um gateway podem ser priorizadas, leia esta documentação para mais informações.</p>           
            
            <figure>

            </figure>

            <h2 id="item4c">Condições para o Gestor Express Mobile</h2>

            <p>Para restringir a execução de gatilhos ou etapas de acordo com o ambiente em que o caso está sendo executado, é possível definir as seguintes condições.</p>

            <p>Para restringir um acionador ou etapa para funcionar apenas com o Gestor Express Mobile, atribua a seguinte condição:</p>
            
            <codeblock>$_SERVER<font color="green">[</font><font color="blue">'HTTP_USER_AGENT'</font><font color="green">] ==</font> <font color="blue">'formslider-ios'</font> <font color="green">||</font> $_SERVER<font color="green">[</font><font color="blue">'HTTP_USER_AGENT'</font><font color="green">] ==</font> <font color="blue">'formslider-android'</font></codeblock>

            <figure>

            </figure>
                        
            <p>Para restringir um gatilho ou etapa para funcionar apenas com a versão para desktop do Gestor Express, atribua a seguinte condição:</p>
            
            <codeblock>$_SERVER<font color="green">[</font><font color="blue">'HTTP_USER_AGENT'</font><font color="green">] !=</font> <font color="blue">'formslider-ios'</font>  <font color="green">&&</font> $_SERVER<font color="green">[</font><font color="blue">'HTTP_USER_AGENT'</font><font color="green">] !=</font> <font color="blue">'formslider-android'</font></codeblock>

            <figure>

            </figure>

        </article>

        <article>               
            
            <h1 id="item5">Erros nas Condições</h1>

            <p>Pode ser difícil depurar problemas em condições, portanto, é recomendável executar casos com o Depurador ativado. À medida que um caso avança, examine os valores do caso e das variáveis do sistema usadas nas condições e verifique se as condições estão testando os valores corretos.</p>
            
            <p>Se houver um erro de sintaxe em uma condição, uma mensagem de erro aparecerá para indicar o problema durante a execução de casos.</p>

            <figure>

            </figure>
                                    
            <p>Se o Gestor Express encontrar uma variável de caso que não existe ou ainda não foi definida no processo ao avaliar uma condição, ele não fornece nenhuma indicação do problema. Em vez disso, ele insere um valor de "" (uma string vazia) no lugar da variável e avalia a expressão. Esse tipo de problema pode ser muito difícil de depurar, porque o caso continua a ser executado sem fornecer qualquer indicação de problema.</p>
            
            <p>Se todas as condições de um gateway exclusivo ou inclusivo forem avaliadas como falsas e não houver fluxo padrão disponível, o processo será interrompido e a seguinte mensagem de erro será exibida:</p>

            <figure>

            </figure>
                                    
            <p>Corrija as condições para que pelo menos uma delas sempre seja avaliada como verdadeira.</p>

            <h2 id="item5a">Problemas Comuns de Condição</h2>

            <p>Estes são alguns problemas comuns ao projetar condições:</p>
            
            <ul>
                <li>Nomes de variáveis com erros ortográficos. Lembre-se de que os nomes das variáveis diferenciam maiúsculas de minúsculas e devem ser escritos exatamente como definidos (nos nomes dos campos em Formulários Dinâmicos ou como variáveis de maiúsculas e minúsculas em gatilhos).</li>
                <li>Usando uma variável de caso em uma condição antes que ela tenha sido criada no processo. Não use uma variável de caso em uma condição se ela for criada posteriormente em um campo de Formulário Dinâmico ou em um gatilho.</li>
                <li>Usando uma variável de caso de um campo de Formulário Dinâmico cujos dados podem não ter sido enviados em uma condição. Por padrão, clicar no link <strong>Próxima etapa</strong> em um formulário dinâmico não salvará os dados, portanto, nenhuma variável de caso será criada para cada campo do formulário dinâmico. Para corrigir esse problema, defina a propriedade <strong>Link da próxima etapa</strong> do Formulário Dinâmico para a opção "Salvar e continuar", para que os dados sejam salvos automaticamente quando o usuário clicar no link da próxima etapa. Se for necessário dar ao usuário a opção de salvar ou não os dados do Formulário Dinâmico, então dispare um gatilho APÓS o Formulário Dinâmico que criará variáveis de caso para cada um dos campos que são usados nas condições subsequentes. O código do gatilho seria:</li>
            </ul>

            <codeblock>
                <p>if <font color="green">(!</font><font color="darkred">isset</font><font color=green>(@@</font>Field1<font color="green">))</font></p>
                    <p><font color=green>(@@</font>Field1 <font color="green">=</font> <font color="blue">""</font><font color="green">;</font></p>
                <p>if <font color="green">(!</font><font color="darkred">isset</font><font color=green>(@@</font>Field2))</p>
                    <p><font color=green>(@@</font>Field2 <font color="green">=</font> <font color="blue">""</font><font color="green">;</font></p>
            </codeblock>


            <p>Ao comparar strings, lembre-se de usar o mesmo caso e o mesmo espaçamento. "HeLlO" não é igual "hello", e " hello " não é igual "hello". Ao comparar o texto inserido pelo usuário, é uma boa ideia eliminar os espaços ao redor com o comando trim() e converter todas as entradas em maiúsculas ou minúsculas com strtoupper() ou strtolower(). Por exemplo:</p>

            <codeblock><font color="darkred">trim</font><font color="green">(</font><font color="darkred">strtoupper</font><font color="green">(@@</font>Department<font color=green>)) ==</font> <font color="blue">"FINANCAS"</font></codeblock>

            <p>Se estiver pesquisando no texto inserido pelo usuário, considere usar preg_match(). Por exemplo:</p>
            
            <codeblock><font color="darkred">preg_match</font><font color="green">(</font><font color="blue">"/financas/i"</font><font color="green">@@</font>Department<font color="green">)</font></codeblock>


            <p>No PHP, = é usado para atribuição, enquanto == ou === é usado para igualdade. A condição @%TipoDespesa = 3 sempre será avaliada como verdadeira, porque o inteiro 3 está sendo ATRIBUÍDO à variável, ao invéz de testar a igualdade. Em vez disso, use a condição @%TipoDespesa == 3 para verificar se @%TipoDespesa é igual ao inteiro 3.</p>

        </article>
    </section>

   
    
    <footer>
        <div class="container-footer">
            <div class="row-footer">
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Selo de Qualidade</h4>

                    <figure>
                        <img src="../_imagens/impacto-logo-branco.png" alt="">
                    </figure>

                </div>
                <!--end footer-col-->
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Endereço</h4>
                    <p>Impacto Positivo Com e Serv Inf Ltda</p>
                    <p>Avenida Nações Unidas, 17-17</p>
                    <p>Vila Santo Antônio</p>
                    <p>17015-903, Bauru, SP</p>
                </div>
                <!--end footer-col-->
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Mídias Sociais</h4>
                    <div class="medias-sociais">
                        <a href="http://gestorexpress.com.br/" target="_blank"><i class="fa-solid fa-globe"></i></a>                        
                        <a href="https://www.facebook.com/gestorexpress.bpm" target="_blank"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="https://www.linkedin.com/showcase/gestorexpress/?viewAsMember=true" target="_blank"><i class="fa-brands fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/channel/UCo1oOgyK-VSr3ntT7FFjAOw" target="_blank""><i class="fa-brands fa-youtube"></i></a>
                    </div>
                </div>
                <!--end footer-col-->
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Subescreva-se</h4>
                    <!-- form sub -->             
                    <div class="form-sub">
                        <form>
                            <input type="email" aria-placeholder="Digite o seu e-mail" required>
                            <button>Subescrever</button>
                        </form>
                    </div>
                    <!-- form sub -->        

                </div> 
                <!--end footer-col-->
            </div>
        </div>
    </footer>
</main>
</body>
</html>
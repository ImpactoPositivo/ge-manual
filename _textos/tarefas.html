<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=3.0">
    <title>Gestor Express - Formulários Dinâmicos</title>
    <link rel="stylesheet" href="../_css/style.css">
    <link rel="shortcut icon" href="../_imagens/ge-favicon.ico" type="image/x-icon">
</head>
<body>
<main>
    <header>
        <figure>
            <a href="../index.html"><img id="logo" src="../_imagens/logo.png" alt="Logotipo Gestor Express"></a>
        </figure>
        <div id="cabecario">
            <h1>Gestor Express</h1>
            <h2>Gerenciamento de Fluxo de Trabalho</h2>
        </div>
    </header>
    <section id="principal">
    <article>
        <h1 id="item1">Visão geral</H1>

        <p>O primeiro passo na criação de um modelo de processo é definir suas tarefas. No Gestor Express, uma tarefa é um grupo lógico de etapas sequenciais, compartilhando um objetivo comum. As tarefas podem ser atribuídas a diferentes usuários ou grupos de usuários, para que um processo possa coordenar as atividades de diferentes pessoas ou grupos em uma organização.</p>

        <p><font color="green">Observação:</font> Lembre-se que para que os casos sejam executados no Gestor Express, é obrigatório ter um evento de início atribuído à primeira tarefa, bem como os usuários/grupos que terão a capacidade de trabalhar no processo.</p>

        <h2 id="item1a">Adicionando Tarefas</h2>

        <p>A Barra de Ferramentas Rápida que aparece quando um elemento é selecionado pode ser usada para adicionar de forma conveniente o próximo elemento no modelo, como eventos, gateways, tarefas e subprocessos.</p>

        <figure id="detalhe">

        </figure>

        <p>As tarefas possuem a propriedade de arrastar e soltar, então para adicionar uma nova tarefa arraste o ícone da caixa de ferramentas e, sem soltar o botão do mouse, solte-o no Mapa do Modelo de Processo.</p>

        <figure id="detalhe">

        </figure>

        <p>As tarefas são criadas por padrão com o nome "Tarefa...." iniciando a numeração em 1:</p>

        <figure id="detalhe">

        </figure>

        <p>Para alterar o nome de uma tarefa, clique com o botão direito do mouse na tarefa e selecione a opção "Editar Rótulo":</p>
        
        <figure id="detalhe">

        </figure>

        <p>Outra opção para alterar o rótulo da tarefa é clicar duas vezes no nome da tarefa para habilitar o modo de edição:</p>
        
        <figure id="detalhe">

        </figure>

        <p><font color="green">Observação:</font> Leve em consideração que o nome da tarefa não deve ser alterado quando houver casos em execução ou atribuídos à tarefa. Se precisar alterar o nome da tarefa, leve em consideração que os casos atribuídos à tarefa não serão atualizados em nenhuma lista.</p>

        <h2 id="item1b">Conectando Tarefas</h2>

        <p>Os elementos adicionados no Mapa de Modelo do Processo possuem a Barra de Ferramentas Rápida, que mostra aos projetistas os possíveis próximos elementos a serem adicionados ao desenho. Para conectar uma tarefa a outro elemento basta clicar sobre ela e as seguintes opções serão mostradas.</p>

        <figure id="detalhe">

        </figure>

        <p>Uma tarefa pode ser conectada a outra tarefa, a um evento intermediário, a um evento final ou a um gateway. A opção de fluxo permite conectar a tarefa a um elemento já adicionado no mapa do processo, a opção de engrenagem é o atalho para visualizar as propriedades da tarefa e a opção de lixeira é o atalho para remover a tarefa.</p>

        <p>Por exemplo, para conectar a tarefa a outra tarefa, basta clicar na opção tarefa e colocá-la no Mapa de Modelo do Processo.</p>

        <figure>

        </figure>

        <p>Caso você já tenha duas tarefas definidas no Modelo de Processo, clique na tarefa e na Barra de Ferramentas Rápida escolha a opção conectar. Clique nele e ele exibirá uma linha que é a conexão entre as tarefas. Se a conexão puder ser feita, o elemento no processo ficará verde. Se não, ele ficará vermelho. Neste exemplo, a conexão entre essas duas tarefas pode ser feita, assim, clique na segunda tarefa para ver e na seta que pode vincular esta tarefa.</p>

        <figure>

        </figure>

        <h1 id="item2">Menu de Contexto da Tarefa</h1>

        <p>O menu de contexto da tarefa é o menu exibido ao clicar com o botão direito do mouse em uma tarefa.</p>

        <figure id="detalhe">

        </figure>

        <p>Cada uma dessas opções é descrita nas seções a seguir.</p>

        <h2 id="item2a">Tipos de tarefa</h2>

        <p>Os tipos de tarefas destinam-se a modelar processos que são tecnicamente executáveis. No entanto, apenas as tarefas do tipo Vazia e Script são suportadas pelo Gestor Express. No momento, os demais tipos de tarefas são meramente informativos.</p>

        <p>Para visualizar os tipos de tarefas disponíveis, clique com o botão direito do mouse na tarefa e passe o mouse sobre a opção Tipo de tarefa :</p>

        <p>Observação: NÃO altere o tipo de tarefa enquanto houver casos em execução ou atribuídos a essa tarefa. Se tentar fazer isso, os casos podem se tornar inacessíveis. Em vez disso, é possível alterar o tipo de tarefa no modelo de processo mesmo que haja casos em execução, mas qualquer um deles é atribuído à tarefa.</p>

        <h2 id="item2ai">Tarefa Vazia</h2>

        <p>Uma tarefa vazia é uma ação única que ocorre em um processo de negócios, ou seja, enviar um formulário.</p>

        <figure id="detalhe">

        </figure>

        <p>Esse tipo de tarefa é compatível com o Gestor Express e o restante da documentação desta página se baseia principalmente nessa tarefa.</p>

        <h2 id="item2aii">Enviar tarefa</h2>

        <p>Uma tarefa de envio é uma tarefa que envia uma mensagem para outro processo ou raia. A tarefa é concluída assim que a mensagem é enviada.</p>
      
        <figure id="detalhe">

        </figure>

        <p><font color="green">Observação:</font> use esse tipo de tarefa apenas para fins de modelagem. O Gestor Express gerencia essa tarefa como uma tarefa vazia.</p>

        <h2 id="item2aiii">Receber Tarefa</h2>

        <p>Uma tarefa de recebimento indica que o processo está contando com uma mensagem recebida de um terceiro. Ao receber uma mensagem, a tarefa foi executada.</p>
              
        <figure id="detalhe">

        </figure>

        <p><font color="green">Observação:</font> use esse tipo de tarefa apenas para fins de modelagem. O Gestor Express gerencia essa tarefa como uma tarefa vazia.</p>

        <h2 id="item2aiv">Tarefa do usuário</h2>

        <ul>
            <li>Uma tarefa típica de "fluxo de trabalho" em que um executor humano executa a tarefa com a ajuda de um software.</li>
            <li>A tarefa é agendada por meio de um gerenciador de lista de tarefas de algum tipo.</li>
        </ul>

        <p><strong>Exemplos:</strong></p>

        <ul>
            <li>A operadora de telemarketing atualiza o registro do cliente.</li>
            <li>O usuário alterando sua senha.</li>
        </ul>
              
        <figure id="detalhe">

        </figure>

        <p><font color="green">Observação:</font> Use esta tarefa apenas para fins de design. O Gestor Express gerencia essa tarefa como uma tarefa vazia.</p>
        
        <h2 id="item2av">Tarefa de script</h2>

        <p>Esse tipo de tarefa permite que um gatilho seja executado quando o fluxo chega à tarefa. Algumas das características de uma tarefa de script são as seguintes:</p>

        <ul>
            <li>As tarefas de script não podem iniciar o fluxo do processo de maneira regular. Como uma tarefa de script não possui usuários atribuídos, o processo não será exibido na opção Novo Processo. No entanto, as tarefas de script podem iniciar o fluxo do processo se o evento de início estiver configurado como uma entrada da web.</li>
            <li>Quando a tarefa estiver pronta para iniciar, o sistema executará o script.</li>
            <li>Quando o script for concluído, a tarefa também será concluída.</li>
        </ul>

        <p>Após adicionar uma tarefa de script ao modelo, configure-a acessando suas propriedades para adicionar o código que será executado.</p>
              
        <figure id="detalhe">

        </figure>

        <p>Na janela que se abre existem duas formas de adicionar o gatilho que será executado pela tarefa.</p>

        <p>1. Selecionando o gatilho no menu suspenso Título.</p>
              
        <figure>

        </figure>

        <p>O código adicionado ao gatilho será mostrado na área de texto Código.</p>

        <p>2. Criando o gatilho diretamente da janela clicando no símbolo de mais (+).</p>
              
        <figure>

        </figure>

        <p>Adicione o nome do novo gatilho e o código na área de texto Código.</p>

        <p>Salve a configuração das propriedades da tarefa que irá executar o gatilho ao executar processos.</p>

        <p><font color="green">Observação:</font> As variáveis do sistema que estão disponíveis durante uma tarefa de script são as variáveis que foram definidas durante a tarefa normal anterior no processo, portanto, o valor das variáveis <code>@@USR_USERNAME</code> e <code>@@USER_LOGGED</code> serão definidas para o último usuário que trabalhou no processo. Da mesma forma, <code>@%INDEX</code> será definido o índice de delegação da tarefa normal anterior no processo. Se o índice de delegação da tarefa de script atual for necessário, será <code>@%INDEX + 1</code> se a tarefa de script seguir uma tarefa normal ou <code>@%INDEX + 2</code> para a segunda tarefa de script após uma tarefa normal.</p>

        <h2 id="item2avi">Tarefa Manual</h2>

        <p>Um tipo de tarefa manual é usado sempre que uma parte de um processo precisa ser executada manualmente. Ela pode ser executado sem qualquer ajuda ou aplicativo externo.</p>

        <p><strong>Exemplo:</strong></p>

        <ul>
            <li>Um técnico de telefonia instalando um telefone no escritório de um cliente.</li>
            <li>Carregando um caminhão com produto.</li>
        </ul>

        <figure id="detlhe">

        </figure>

        <p><font color="green">Observação:</font> use esse tipo de tarefa apenas para fins de design. O Gestor Express gerencia essa tarefa como uma tarefa vazia.</p>

        <h2 id="item2avii">Tarefa de Negócios</h2>

        <p>A regra de negócios é um tipo específico que foi adicionado ao BPMN 2.0. As regras de negócios são tipos de serviços mantidos por um grupo de trabalho de negócios, em vez de um grupo administrativo, como o grupo de TI. Esse formato de regra é usada para representar a implementação de uma regra de negócios.</p>

        <figure id="detlhe">

        </figure>

        <p><font color="green">Observação:</font> use esse tipo de tarefa apenas para fins de design. O Gestor Express gerencia essa tarefa como uma tarefa vazia.</p>

        <h2 id="item2b">Tipo de marcador</h2>

        <p>Os <strong>marcadores</strong> são usados para distinguir visualmente as subclasses de objetos de tarefa. Por padrão, nenhum marcador é definido, isso é conhecido como <strong>none</strong>. Além disso, três tipos diferentes de marcadores podem ser definidos, clique com o botão direito na tarefa e selecione "Tipo de Marcador". Em seguida, selecione entre os três:</p>

        <ul>
            <li>Ciclo</li>
            <li>Paralelo</li>
            <li>Sequencial</li>
        </ul>

        <p>Os marcadores são meramente informativos, em versões futuras serão adicionadas suas respectivas funcionalidades.</p>

        <h2 id="item2bi">Ciclo</h2>

        <p>Uma tarefa de loop será repetida automaticamente muitas vezes até que uma condição definida seja cumprida. Pessoas com experiência em programação reconhecerão este marcador como repita-até (ou while-do)</p>

        <figure id="detlhe">

        </figure>

        <p><font color="green">Observação:</font> Use este tipo de marcador na tarefa apenas para fins de projeto. O Gestor Express gerencia essa tarefa como uma tarefa vazia.</p>

        <h2 id="item2bii">Paralelo</h2>

        <p>Uma tarefa paralela ou tarefa de várias instâncias é uma tarefa que ocorre várias vezes. Por exemplo, se diferentes áreas de uma empresa precisam aprovar e assinar um documento.</p>

        <figure id="detlhe">

        </figure>

        <p>Quando a tarefa for marcada como paralela, a tarefa será roteada em paralelo para todos os usuários/grupos atribuídos na tarefa. O fluxo continua para a próxima tarefa somente depois que todos os usuários atribuídos às instâncias da tarefa concluírem sua execução.</p>

        <p>O marcador paralelo está disponível para os seguintes tipos de tarefas:</p>

        <ul>
            <li>Vazio</li>
            <li>Usuário</li>
            <li>Manual</li>
        </ul>

        <p>Para esse tipo de tarefa, as regras de atribuição mudam para que as tarefas tenham apenas duas opções para rotear a tarefa "em paralelo": Atribuição paralela e Atribuição baseada em valor. Cada usuário atribuído a uma tarefa paralela trabalha em uma instância diferente da tarefa. Todas as instâncias são criadas de uma vez, para que todos os usuários atribuídos possam trabalhar em suas instâncias da tarefa ao mesmo tempo.</p>

        <h2 id="item2biia">Atribuição Paralela</h2>

        <p>Selecione esta opção para adicionar usuários e/ou grupos à lista de usuários atribuídos. Os usuários desta lista farão a tarefa em "paralelo", o que significa que cada usuário da lista poderá realizar a tarefa ao mesmo tempo.</p>

        <figure>

        </figure>

        <p>Ao executar casos, a janela de roteamento mostrará a lista de usuários atribuídos à tarefa.</p>

        <figure id="detalhe">

        </figure>

        <p>O fluxo continuará para os próximos elementos do processo depois que todos os usuários atribuídos à tarefa paralela tiverem roteado o caso.</p>

        <h2 id="item2biib">Paralelo: Atribuição Baseada em Valor</h2>
        
        <p>Selecione a opção <strong>Atribuição Baseada em Valor</strong> para permitir uma variável que especifica quais usuários serão atribuídos para trabalhar em instâncias da tarefa paralela. O valor dessa variável é uma matriz dos IDs exclusivos dos usuários a serem atribuídos à tarefa paralela. Esses IDs exclusivos podem ser obtidos das seguintes maneiras:</p>

        <ul>
            <li>Use a função <code>PMFUserList()</code> em um gatilho, o serviço da web userList() ou o ponto de extremidade GET/users em um script externo.</li>
            <li>Faça uma pesquisa no campo <code>USERS.USR_UID</code> no banco de dados <code>wf_workflow</code>, que é nomeado por padrão <code>wf_workspace</code>.</li>
            <li>Execute casos no modo de depuração com tarefas atribuídas aos usuários e copie o valor da variável do sistema <code>USER_LOGGED</code>.</li>
        </ul>

        <p>O valor desta variável já deve estar definido por um gatilho ou um Formulário Dinâmico que seja executado antes da atribuição na tarefa anterior ou em algum ponto anterior do processo.</p>

        <p><strong>Exemplo:</strong></p>

        <p>Uma variável de matriz é criada no processo denominado "UsuariosAtribuidos". Essa variável é definida na caixa Matriz de usuários para Atribuição, baseada em valor nas Regras de atribuição para a tarefa paralela.</p>

        <figure>

        </figure>

        <p>Em seguida, o seguinte gatilho é executado antes da atribuição na tarefa anterior no processo para definir o valor da variável <code>@=assignedUsers</code>:</p>

        <codeblock>
            <p>//matriz dos IDs exclusivos dos usuários a serem atribuídos a uma tarefa paralela:</p>
            <p><font color="green">@@</font>assignUsers = <font color="red">array</font><font color="green">(</font></p>
            <p><font color="blue">"0000000000000000000000000000001"</font> ,  //ID do admin</p>
            <p><font color="blue">"153839111564b98d5e35983081025138" </font>  //ID de Mary Jones</p>
            <p>);</p>
        </codeblock>

        <p><font color="green">Observação:</font> NÃO use uma variável do sistema como variável para os usuários atribuídos em uma tarefa paralela. Por exemplo, NÃO use a variável do sistema <code>@@USER_LOGGED</code>.</p>

        <p><font color="green">Observação:</font>  Ao executar casos, se a mensagem "Método de atribuição de tarefa inválida para próxima tarefa" for exibida, significa que a configuração da tarefa paralela não foi salva corretamente. Salve novamente a configuração da tarefa para resolver esse problema.</p>

        <h2 id="item2biii">Sequencial</h2>

        <p>Uma tarefa sequencial permite que os usuários executem código sequencialmente usando um script.</p>

        <figure id="detalhe">

        </figure>

        <p><strong><font color="green">Observação:</font></strong> Use este tipo de marcador na tarefa apenas para fins de projeto. O Gestor Express gerencia essa tarefa como uma tarefa vazia.</p>

        <h2 id="item2c">Etapas</h2>

        <p>No Gestor Express, uma etapa é um trabalho que forma uma ação claramente definida dentro de uma tarefa. Uma etapa pode ser uma ação manual, como preencher um formulário dinâmico ou carregar um documento do Word para usá-lo como um documento de entrada, ou pode ser uma ação de fluxo de trabalho automatizada. Existem 5 tipos de etapas no Gestor Express:Formulário Dinâmico , Documentos de Entrada, Documentos de Saída, Gatilhos e Externos.</p>

        <p>Para visualizar as etapas atribuídas à tarefa ou atribuir novas etapas à tarefa, selecione a opção "Etapas" no contexto do menu de tarefas:</p>

        <figure id="detalhe">

        </figure>

        <p>Abre-se uma janela modal onde a lista de elementos disponíveis dentro do processo está listada no painel "Elementos Disponíveis". Esses elementos são organizados de acordo com sua categoria em "Gatilhos", "Formulário Dinâmico", "Documentos de Entrada", "Documentos de Saída" e "Externos". Por outro lado, os elementos já atribuídos à tarefa são listados dentro do painel "Elementos atribuídos". Este painel possui três seções para distinguir a execução desses elementos conforme a tarefa está sendo executada em um caso.</p>

        <figure>

        </figure>

        <p>Este painel possui um campo "Pesquisar" onde é possível pesquisar diretamente um elemento apenas digitando seu nome neste campo. Isso é muito útil quando há vários elementos e procurá-los na lista torna-se cansativo. Todas as correspondências são listadas abaixo, à medida que o texto é inserido.</p>

        <p>Os Formulários Dinâmicos, Documentos de Entrada e Saída devem ser atribuídos no primeiro espaço em branco do painel. Para adicionar uma etapa à tarefa, um dos elementos listados no painel "Elementos disponíveis" deve ser adicionado nesta seção. Lembre-se que a execução dos elementos atribuídos neste painel ao executar um caso desta tarefa depende da ordem em que os elementos estão dispostos nesta seção do painel.</p>

        <p>Para adicionar uma etapa à tarefa, vá para a lista de "Elementos Disponíveis", pegue um elemento pelo seu nome e leve-o para o primeiro espaço em branco do painel "Elementos Atribuídos" sem soltar o botão do mouse. Se o elemento for o primeiro a ser adicionado, uma seção cinza será imediatamente marcada e o elemento será adicionado independentemente de onde for solto. Uma mensagem flash é mostrada na parte superior do painel indicando que a etapa foi atribuída corretamente.</p>

        <p>Por exemplo, se um Formulário Dinâmico for o elemento a ser adicionado às etapas da tarefa:</p>

        <figure id="detalhe">

        </figure>

        <p>Pegue o elemento com o cursor do mouse.</p>

        <figure id="detalhe">

        </figure>

        <p>Sem soltar o mouse leve-o para o primeiro espaço do painel.</p>
        
        <figure id="detalhe">

        </figure>

        <p>Solte o elemento no espaço cinza habilitado e a etapa será adicionada.</p>

        <p>Leve em consideração que após a atribuição de um Formulário Dinâmico, Documento de Entrada ou Documento de Saída, ele não será mais listado no painel "Elementos Disponíveis". Depois de atribuir o primeiro elemento às etapas da tarefa, as próximas etapas a serem adicionadas podem ser organizadas antes ou depois das etapas já atribuídas. Para fazer isso, siga o mesmo procedimento explicado anteriormente, mas, antes de soltar o elemento, "suba" ou desça qualquer um dos elementos já adicionados.</p>

        <figure>

        </figure>

        <p>Atribuir a etapa antes de outra.</p>

        <figure>

        </figure>

        <p>Atribuir a etapa depois de outra.</p>

        <h2 id="item2ci">Gerenciando as etapas de uma tarefa</h2>

        <p>Após atribuir as etapas à tarefa, cada uma delas pode ser editada (de acordo com o elemento), removida ou alterada em suas propriedades ao executar um caso. As opções para fazer isso estão no canto direito da etapa.</p>

        <figure>

        </figure>

        <p><strong>Propriedades:</strong>Selecione esta opção para adicionar a <strong>propriedade Exibir</strong> ou <strong>Editar</strong> à etapa. Também é possível adicionar uma condição para cada etapa. Esta condição é uma expressão PHP.</p>
        
        <figure>

        </figure>

        <p>A etapa só será executada se a condição for avaliada como <strong>Verdadeira</strong>. Lembre-se que em PHP, uma expressão é Verdadeira se for avaliada como um valor diferente de zero, então: <code>-10</code>, <code>10.23</code>, <code>"10"</code> e <code>"Olá!"</code> são todas <strong>Verdadeiras</strong>.</p>

        <p>Enquanto <code>""</code>, <code>0</code>, e <code>"0"</code> são todos Falsos . Variáveis podem ser usadas na expressão, permitindo que o processo verifique diferentes fatores ao decidir se deve ou não executar uma etapa.</p>

        <p>Para obter mais informações, consulte Usando Condições.</p>

        <p><font color="green">Observação:</font> A opção "Modo" só está disponível para etapas do Formulário Dinâmico na tarefa.</p>

        <p><strong>Editar:</strong> Selecione esta opção para abrir o editor do Formulário Dinâmico, o editor de acionador ou para editar a configuração do documento de entrada ou saída.</p>

        <p><strong>Remover:</strong> Selecione esta opção para remover o elemento das etapas da tarefa. Na caixa de mensagem que se abre, clique em "Excluir" para remover o elemento ou clique em "Cancelar" para fechar a caixa e retornar à lista anterior.</p>

        <figure>

        </figure>

       <h2 id="item2cii">Atribuindo gatilhos a uma tarefa</h2>
        
        <p>Um gatilho é uma linha de código PHP que pode ser inserido em uma tarefa e acionado em pontos específicos durante as execuções de um caso:</p>

        <ul>
            <li><strong>Antes</strong> de uma etapa ser executada (ou seja, formulários dinâmicos, documentos de entrada e documentos de saída).</li>
            <li><strong>Depois</strong> que uma etapa é executada.</li>
            <li><strong>Antes</strong> de um usuário ser designado (redesignado) para trabalhar na próxima tarefa é o processo.</li>
            <li><strong>Antes</strong> de um caso derivar (rotas) para a próxima tarefa no processo.</li>
            <li><strong>Depois</strong> que um caso deriva (rotas) para a próxima tarefa no processo.</li>
        </ul>


        <p>Lembre-se que os gatilhos já devem ter sido criados dentro do processo. Para atribuí-los a uma etapa, vá para a seção Gatilhos dentro do painel "Elementos disponíveis" e pegue o gatilho que será atribuído pelo seu nome sem soltar o cursor do mouse. Leve-o onde o gatilho será executado. Observe que, expandindo cada etapa, há duas seções: "Antes (Formulário Dinâmico, Documento de entrada, Documento de saída)" e "Depois (ormulário Dinâmico, Documento de entrada, Documento de saída)". Na seção "Atribuição" as etapas podem ser colocadas apenas "Antes da atribuição", e na seção "Roteamento", os gatilhos podem ser atribuídos "Antes" ou "Após o roteamento". Para saber quando definir um gatilho e como trabalhar com ele, consulte esta documentação.</p>

        <figure id="detalhe">

        </figure>

        <p>Uma mensagem flash indica que a atribuição foi bem-sucedida. Ao contrário da atribuição de formulários dinâmicos, documentos de entrada ou documentos de saída, os gatilhos ainda estão disponíveis mesmo depois que uma instância do gatilho já foi atribuída a uma etapa da tarefa. Cada um dos gatilhos já atribuídos possui três botões para personalizar a execução do gatilho no passo. Esses botões são os seguintes:</p>

        <figure>

        </figure>

        <ul>        
            <li><strong>Condição.</strong> Uma condição também pode ser adicionada para determinar se o gatilho deve ser acionado ou não. Esta condição também é escrita com código PHP. Para obter mais informações, consulte Usando condições</li>
            <li><strong>Editar</strong> Abra o editor de gatilho para editar o código.</li>
            <li><strong>Remover.</strong> Remova o gatilho da etapa.</li>
        </ul>

        <p>Também mova os gatilhos já atribuídos entre as etapas da tarefa apenas arrastando e soltando-os em uma nova posição.</p>

        <p><font color="green">Observação:</font> não é recomendável excluir uma etapa durante a execução de casos ou atribuída à tarefa, pois isso pode causar erros e impedir a conclusão do caso. Se for necessário editar um processo que está sendo usado na produção, faça uma cópia do processo e edite a nova versão do processo.</p>

        <h2 id="item2d">Regras de atribuição</h2>

        <p>A atribuição dos usuários que irão trabalhar na tarefa e a forma como esses usuários serão atribuídos a ela é definida pela configuração das "Regras de Atribuição" das tarefas. Clique com o botão direito do mouse na tarefa e, em seguida, clique em "Regras de atribuição".</p>

        <figure id="detalhe">

        </figure>

        <p>A janela de atribuição de usuário é a seguinte:</p>

        <figure>

        </figure>

        <p>Depois de criar tarefas para um processo, usuários e/ou grupos de usuários precisam ser atribuídos a essas tarefas. Geralmente, é melhor atribuir tarefas a grupos em vez de usuários individuais, mesmo que haja apenas um usuário no grupo. As atribuições de usuário serão perdidas sempre que um processo for exportado, mas as atribuições de grupo não serão perdidas. Após importar um processo, é mais fácil atribuir usuários a grupos no Gestor Express, em vez de ter que passar por todas as tarefas, atribuindo usuários manualmente. Por exemplo, se a sua organização tem uma diretora financeira chamada Suely Borges, crie um grupo chamado "Diretoria Financeira" e atribua Suely Borges como membro. Se o diretor financeiro da sua organização mudar, tudo que você precisa fazer é atribuiir outro usuário para o grupo, ao invés de reeditar todos os seus processos.</p>

        <p><font color="green">Observação:</font> NÃO altere a regra de atribuição de uma tarefa enquanto houver casos em execução. Se tentar fazer isso, a seguinte mensagem é mostrada:</p>

        <figure>

        </figure>

        <p>Aguarde até que todos os casos terminem para alterar a regra de atribuição de qualquer tarefa no processo.</p>

        <h2 id="item2di">Guia Usuários</h2>

        <p>A primeira seção da janela contém as opções do método de atribuição com as quais os usuários serão atribuídos à tarefa atual (esses métodos são explicados abaixo). Para selecionar o método de atribuição, basta selecioná-lo no grupo de botões de opção.</p>

        <p>A segunda seção contém a lista de usuários e grupos disponíveis no Gestor Express a serem atribuídos à tarefa. O primeiro painel é a "Lista de usuários disponíveis" onde estão listados os grupos e usuários do Gestor Express disponíveis, prontos para serem atribuídos à tarefa. O segundo painel é a "Lista de usuários atribuídos" que lista os usuários e grupos de usuários já atribuídos à tarefa.</p>

        <p>Para atribuir um grupo ou usuário à tarefa clique na seta -> como mostra a imagem abaixo:</p>

        <figure>

        </figure>

        <p>Esta janela também possui a propriedade de arrastar e soltar para atribuir usuários e grupos à tarefa. Assim, basta arrastar o nome do usuário ou grupo da "Lista de usuários disponíveis" e sem soltar o botão do mouse soltá-lo no painel "Lista de usuários atribuídos".</p>

        <p>Se a lista de usuários e grupos for muito grande, use os filtros do painel para encontrar um usuário ou grupo específico ou para filtrar a lista de acordo com um determinado critério (selecione também uma das opções "Ver todos", "Ver usuários" , ou "Visualizar grupos" para filtrar a lista).</p>

        <figure>

        </figure>

        <p>Para remover um usuário ou grupo já atribuído do painel "Lista de usuários atribuídos", clique no ícone X no lado direito do nome do grupo e usuário ou simplesmente arraste e solte-o de volta na "Lista de usuários disponíveis".</p>

        <p>Para explicar os métodos de atribuição, vamos usar o Processo "Solicitação de Compra" como exemplo:</p>

        <figure>

        </figure>

        <h2 id="item2dia">Atribuição Cíclica</h2>

        <p>A atribuição cíclica é o tipo padrão de atribuição em que a tarefa é atribuída a um usuário específico, selecionando esse usuário no conjunto de usuários disponíveis usando o padrão round-robin. Neste exemplo, clique com o botão direito do mouse na tarefa "Aprovação do pedido" e selecione "Regras de atribuição". Uma nova janela será aberta onde são mostradas as propriedades para atribuir regras para essas tarefas específicas. Em "Método de atribuição de caso", clique no botão de opção "Atribuição cíclica" e também atribua um usuário/usuários para trabalhar na tarefa. Neste caso, a "Supervisora de Crédito" que é Sheila Oliveira será responsável por esta tarefa.</p>

        <figure>

        </figure>

        <p>Para testar a atribuição do usuário vá em "Início" => "Novo Caso" e clique duas vezes em "Pedido de Compra". O primeiro Formulário Dinâmico atribuído a essa tarefa será aberto, preencha-o com as informações necessárias e clique em enviar. O próximo passo mostrará quem é o responsável pela próxima tarefa, neste caso "Aprovação do pedido" e o responsável é o "Supervisor de Crédito" ou Sheila Oliveira como visto na imagem abaixo.</p>

        <figure>

        </figure>

        <h2 id="item2dib">Atribuição Manual</h2>

        <p>Com a regra de atribuição manual, o usuário que concluir a tarefa anterior no processo selecionará manualmente o usuário que estará trabalhando na próxima tarefa do processo.</p>

        <p>Por exemplo, na tarefa "Aprovação do pedido" clique em "Atribuição manual" e adicione à lista de usuários a quantidade de pessoas que devem e podem trabalhar nesta tarefa. Neste caso adicionamos quatro funcionários ao caso. clique em salvar para finalizar esta etapa.</p>

        <figure>

        </figure>

        <p>Como pode ser visto na imagem abaixo, a tarefa agora tem a opção de ser trabalhada por qualquer pessoa dentro do grupo de funcionários. Escolha o usuário que trabalhará na tarefa "Aprovação do pedido" e clique em continuar</p>

        <figure>

        </figure>

        <h2 id="item2diba">Atribuição Manual - Problemas Conhecidos</h2>

        <p>Preste atenção aos seguintes problemas conhecidos antes de escolher esse tipo de atribuição de tarefa.</p>

        <p><strong>O formulário de atribuição não é exibido</strong></p>

        <p>Nesses casos, o formulário de atribuição exibido quando o caso é roteado para uma tarefa de atribuição manual NÃO está sendo exibido quando a tarefa anterior é um dos seguintes tipos:</p>

        <ul>
            <li>
                Tarefa de script
                <figure>
                </figure>
            </li>
            <li>
                Subprocesso
                <figure>
                
                </figure>
            </li>
            <li>
                Ações por e-mail
                <figure>
                
                </figure>
            </li>
        </ul>

        <p>Como uma tarefa de atribuição manual não possui usuários atribuídos por padrão, uma mensagem de erro será exibida:</p>

        <figure>

        </figure>

        <p><strong>Solução alternativa</strong></p>

        <p>Para evitar problemas de tarefa de script e subprocesso, considere a seguinte solução alternativa: Na tarefa antes da tarefa de script/subprocesso, adicione uma variável para selecionar o usuário atribuído da tarefa de atribuição manual. Em seguida, altere o tipo de atribuição da tarefa Manual de "Atribuição manual" para "Atribuição baseada em valor" e forneça a variável definida anteriormente.</p>

        <h2 id="#">Entrada via Web</h2>

        <p>No desenho do processo mostrado na imagem abaixo, o evento de início é configurado como uma entrada via web seguida de uma tarefa com atribuição manual.</p>

        <figure id="detalhe">

        </figure>

        <p>Este design de processo NÃO é suportado pelo Gestor Express. Depois que o usuário tiver concluído o formulário dinâmico atribuído à entrada via web, a mensagem informativa informará ao usuário que a próxima tarefa não possui nenhum usuário atribuído.</p>

        <figure id="detalhe">

        </figure>

        <h2 id="item2dic">Atribuição Baseada em Valor</h2>

        <p>Selecione esta opção para usar uma variável para especificar um único usuário que será designado para trabalhar na tarefa. Qualquer variável pode ser usada para designar o usuário, mas esta variável deve ser definida por um campo de Formulário Dinâmico em uma tarefa anterior ou por um gatilho que é executado em qualquer ponto antes da atribuição na tarefa anterior. Não é necessário que o usuário atribuído por base de valor também esteja presente na lista de cessionários da tarefa.</p>

        <p><font color="red">Aviso:</font> Tome cuidado para que a variável de usuário defina um usuário válido ativo, caso contrário, a mensagem de erro será exibida: A tarefa não possui usuários. Como prática recomendada, se o status do usuário mudar para Inativo ou Férias, substitua o usuário por outro .</p>

        <p>Por exemplo, o gatilho a seguir define o usuário para a próxima tarefa com base em <code>@#quantia</code> ser maior ou menor que <code>500,00</code>:</p>

        <figure>

        </figure>

        <codeblock>
            <p>if <font color="green">(</font>isset(@#amount) and @#amount >= 500.00) <font color="green">{</font></p>
            <p><font color="green">@@</font>NextUser = <font color="blue">'089f76dfe59c13408500f0f852435ac7'</font><font color="green">;</font> //UID of Ralph Baker</p>
            <p><font color="green">}</font></p>
            <p>else <font color="green">{</font></p>
            <p><font color="green">@@</font>NextUser = <font color="blue">'4b50c5a36630d3906475c945ed999051'</font><font color="green">;</font> //UID of Amos Batto</p>
            <p>}</p>
        </codeblock>

        <p>Nota: O ID exclusivo de um usuário pode ser obtido das seguintes maneiras:</p>

        <ul>
            <li>
                Para o usuário conectado no momento, use a variável do sistema <code>@@USER_LOGGED</code>. Por exemplo, se a variável de Atribuição Baseada em Valor for <code>@@NextUsere</code> ela deve ser atribuida para o mesmo usuário designado para trabalhar na tarefa atual. O seguinte código de gatilho poderá ser usado:
                <codeblock>font color="green">@@</font>NextUser = font color="green">@@</font>USER_LOGGED <font color="green">;</font></codeblock>
                <font color="green">Observação:</font> A variável para Atribuição com base em valor não pode ser uma variável de sistema como <code>@@USER_LOGGED</code>, mas o valor de uma variável de sistema pode ser atribuído à variável para Atribuição com base em valor em um acionador, conforme mostrado neste exemplo.
            </li>
            <li>
                Para obter o ID exclusivo de um usuário específico, vá para <strong>Admin => Usuários => Usuários</strong> para ver a lista de usuários disponíveis. Em seguida, pressione <strong>Ctrl + U</strong> para visualizar o código-fonte HTML ou use um inspetor de código, como o Chrome Developer Tools, Firebug ou Firefox Debugger. Na tabela de usuários, a primeira célula de cada linha está oculta e contém um DIV com o ID exclusivo do usuário.
            <figure>

            </figure>         
            </li>
            <li>
                Pesquise o ID exclusivo do usuário no campo <code>wf_<font color="blue">WORKSPACE</font>.USERS.USR_UID</code> no banco de dados MySQL. A função executeQuery() pode ser usada em um gatilho, a linha de comando do MySQL ou uma interface gráfica como PhpMyAdmin pode ser usada para obter o ID exclusivo:
                <figure>
                </figure>
            </li>
            <li>
                Uma caixa suspensa ou de sugestão pode usar uma consulta SQL ou um gatilho anterior para preencher uma lista de usuários disponíveis atribuídos à tarefa e permitir que o usuário selecione um. Veja os exemplos abaixo.
            </li>
        </ul>

        <p>Lembre-se de que a variável usada pela Atribuição Baseada em Valor deve ser definida em algum momento antes da atribuição na tarefa anterior. Por exemplo, se estiver usando a atribuição baseada em valor na tarefa "Processar reclamação" no processo a seguir, a variável deve ser definida antes da atribuição ou em algum ponto anterior na tarefa "Inserir reclamação".</p>

        <figure>

        </figure>

        <p>Se a primeira tarefa no processo usar a atribuição baseada em valor, o Gestor Express ignorará sua variável e atribuirá a primeira tarefa ao usuário que iniciou o caso. Se o caso for criado com PMFNewCase(), PMFNewCaseImpersonate(), serviço web newCase(), serviço web newCaseImpersonate(), terminal POST/cases ou terminal POST/cases/impersonate, então ele também ignorará a atribuição baseada em valor e será atribuído ao usuário especificado pelo terminal function/web service/REST.</p>

        <p>No entanto, a variável para Atribuição Baseada em Valor será usada para designar o usuário para trabalhar na tarefa inicial se o processo for usado como um subprocesso em outro processo. A variável precisa ser definida no caso mestre e ser uma das variáveis passadas para o caso do subprocesso.</p>

        <p>O usuário que inicia o caso será atribuído à tarefa inicial no caso, mas se o processo retornar à tarefa inicial, a variável para Atribuição Baseada em Valor será usada para designar o usuário para quaisquer passagens subsequentes pela tarefa.</p>

        <p>Por exemplo, no processo a seguir, a tarefa "Inserir reclamação" usa a atribuição baseada em valor e sua variável é <code>@@PrimeirotUsuario</code>. O usuário que iniciar o caso será designado para trabalhar na tarefa "Inserir reclamação" quando o caso for iniciado. No entanto, se o processo fizer um loop e enviar o caso de volta para a tarefa "Inserir reclamação" uma segunda vez, a atribuição baseada em valor será usada.</p>

        <figure>

        </figure>

        <p>Se precisar enviar o caso de volta para o mesmo usuário que iniciou o caso. Em seguida, crie um gatilho definido para disparar durante a tarefa "Inserir Reclamação" que salva o usuário atual na variável <code>@@PrimeirotUsuario</code></p>


        <codeblock>
            <p>if <font color="green">(!</font> <font color="red">isset</font> <font color="green">(@@</font>PrimeiroUsuario) ou <font color="red">empty</font>(<font color="green">@@</font>PrimeiroUsuario<font color="green">)) {</font></p>
            <p><font color="green">@@</font>PrimeiroUsuario <font color="green">= @@</font>USER_LOGGED<font color="green">;</font></p>
            <p><font color=green>}</font></p>
        </codeblock>

        <p>A tarefa "Inserir reclamação" será reatribuída ao usuário inicial que iniciou o caso em todas as passagens subsequentes pela tarefa.</p>

        <p><font color="green">Observação 1:</font> Se precisar registrar o usuário que iniciou o caso, defina o gatilho acima para disparar antes da primeira etapa da primeira tarefa. Se precisar registrar qual usuário concluiu a primeira tarefa (porque o caso pode ter sido reatribuído a outro usuário), defina o gatilho acima para disparar antes da atribuição na primeira tarefa.</p>

        <p>font color="green">Observação 2:</font> Também é possível usar o método Caso:CarregarCaso() para pesquisar qual usuário foi atribuído a uma tarefa, mas não é recomendado porque o índice de delegação nem sempre se refere à mesma tarefa. O índice de delegação em um caso será incrementado cada vez que o caso for reatribuído a outro usuário. Um índice de delegação de 2 pode ser a segunda tarefa no processo ou pode ser a primeira tarefa que foi reatribuída a outro usuário.</p>

        <h2 id="item2did">Reportar a</h2>

        <p>A regra de atribuição "Reportar a" leva em consideração a estrutura da sua organização (organograma) representada pelos departamentos do Gestor Express. Seleciona o supervisor/gerente do usuário que completou a tarefa anterior no processo para trabalhar na tarefa atual. Esta é uma opção útil quando o processo exige que o supervisor revise o trabalho das pessoas em seu departamento. Se um supervisor de um subdepartamento concluir a tarefa anterior, "Reportar a" selecionará automaticamente o supervisor do departamento pai para trabalhar na tarefa atual. Dessa forma, as tarefas podem ser passadas pela cadeia de comando de uma organização.</p>

        <p>Para os próximos exemplos, a seguinte parte da estrutura de uma organização será usada.</p>

        <figure>

        </figure>

        <p>Junto com a seguinte parte do processo "Processo de Relatório de Caso".</p>

        <figure>

        </figure>

        <p>A estrutura conta com os seguintes departamentos, gerentes e usuários.</p>

        <div id="ladoalado">
            <figure>

            </figure>

            <figure>

            </figure>

            <figure>

            </figure>
        </div>

        <p>Clique com o botão direito do mouse na tarefa "Tarefa 1 - Relaorio de Caso" e selecione "Regras de Atribuição". Para esta tarefa use uma "Atribuição Cíclica" que terá quatro usuários: João (gerente da Equipe A), Frederico (membro da Equipe A), José Eduardo (membro do Departamento de Engenharia) e Maria (membro da Gerência Geral).</p>

        <figure>

        </figure>

        <p>Para a segunda tarefa "Tarefa 2 - Revisão do Caso", clique com o botão direito nela e selecione "Regras de Atribuição". Desta vez, escolha "Reportar a" como o método de atribuição.</p>

        <figure>

        </figure>

        <p>Para a terceira tarefa "Tarefa 3 - Aprovação de Caso" também selecione "Reportar a" como o método de atribuição.</p>

        <figure>

        </figure>

        <p>Neste exemplo, os usuários "Frederico", "José Eduardo" e "Maria" trabalham em departamentos diferentes. Cada um desses departamentos tem um gerente diferente. Para testar a regra de atribuição "Reportar a", primeiro faça o login com o usuário "Frederico" e vá para Início => Novo Caso e clique duas vezes no processo "Processo de relatorio de caso" para iniciar um caso. Envie a primeira tarefa e o próximo usuário será atribuído ao gerente do departamento "Equipe A". De acordo com a estrutura desta organização específica, o gerente é o usuário "João" então ele é a escolhido para a próxima tarefa. Em caso de login com o usuário "José Eduardo", o próximo usuário será o usuário "Milton" que é gerente do "Departamento de Engenharia" E para a usuária "Rose", que é membro do Departamento de "Gerenciamento Geral", o caso será atribuído ao gerente chamado "Alexandre".</p>

        <figure>

        </figure>

        <p>Além disso, se um gerente de um subdepartamento concluir a primeira tarefa, a segunda tarefa atribuída com o método "Reportar a" selecionará automaticamente o gerente do subdepartamento de nível seguinte. Neste exemplo, os usuários "João", "Milton" e "Alexandre" são gerentes. Portanto, se o usuário "João" que é gerente concluir a tarefa "Tarefa 1 - RElatório do Caso", a segunda tarefa "Tarefa 2 - Revisão do Caso" será atribuída ao gerente do "Departamento de engenharia" denominado "Milton". Então, se o usuário "Milton" concluir a "Tarefa 2 - Revisão de Caso", a terceira tarefa "Aprovação de Caso" será atribuída ao gerente do departamento superior seguinte, o gerente de "Gerenciamento Geral" chamado "Alexandre".</p>

        <figure>

        </figure>

        <p>O Gestor Express armazena essas informações no campo USR_REPORTS_TO na tabela wf_<workspace>.USERS.</p>

        <figure>

        </figure>

        <p><font color="green">Observação</font>: O campo USR_REPORTS_TO da tabela wf_<workspace>.USERS fica vazio sempre que o usuário for o membro mais alto de sua estrutura de departamentos, incluindo subdepartamentos.</p>
        
        <figure>

        </figure>

        <p>Leve em consideração essa alteração sempre que acessar valores de tabelas por meio de scripts, gatilhos, etc. O código a seguir recupera o UID do usuário logado atual levando em consideração o campo vazio.</p>

        <codeblock>
            <p>$uid = <font color="green">@@</font>USER_LOGGED;</p>
            <p>$data = executeQuery<font color="green">(</font><font color="blue">"Selecione USR_REPORTS_TO de USERS onde USR_UID =</font> '$uid'"<font color="green">);</font></p>
            <p><font color="green">@@</font>supervisor = $data<font color="green">[</font>1<font color="green">][</font>'USR_REPORTS_TO'<font color="green">];</font></p>
            <p>if ($data<font color="green">[</font>1<font color="green">][</font><font color="blue">'USR_REPORTS_TO'</font><font color="green">]==""</font><font color="green">){</font></p>
            <p><font color="green">@@</font>supervisor = <font color="green">@@</font>USER_LOGGED;</p>
            <p><font color="green">}</font></p>
        </codeblock>

        <p>Se o campo USR_REPORTS_TO estiver vazio, o Gestor Express usará o UID do usuário atual. Consulte o caso especial Nenhum departamento superior.</p>

        <h2 id="item2dida">Casos especiais</h2>

        <p><stong>Subdepartamento sem Gerente</stong></p>

        <p>Se um subdepartamento não tiver um membro designado como gerente, a próxima tarefa será atribuída ao gerente do subdepartamento/departamento de nível seguinte. Seguindo o exemplo anterior, neste caso o usuário "João" não é mais gerente do subdepartamento da Equipe A.</p>

        <figure>

        </figure>

        <p>Portanto, quando um caso é aberto e a primeira tarefa é concluída por um dos membros (ou "Paulo" ou "José") da "Equipe A", a segunda tarefa será atribuída ao gerente do "Departamento de Engenharia" chamado "Milton".</p>

        <figure>

        </figure>

        <p>Se o próximo subdepartamento não tiver um gerente designado, a próxima tarefa será atribuída ao próximo departamento na estrutura com um gerente designado.</p>

        <figure>

        </figure>

        <p>Se um membro do departamento "Equipe A" iniciar um caso (neste caso, o usuário "Paulo"), a segunda tarefa será atribuída a "Alexandre", o gerente do departamento "Gerenciamento geral".</p>

        <figure>

        </figure>

        <h2>Gerente com status Inativo/Férias</h2>

        <p>Neste caso especial, o gestor tem o status de Inativo ou Férias. Portanto, a próxima tarefa será atribuída ao usuário designado como "Substituido por" do Gerente. Por exemplo, se o gerente "Milton" estiver de férias.</p>

        <figure>

        </figure>

        <p>As tarefas que lhe foram atribuídas serão redireccionadas para o utilizador atribuído na sua configuração "Substituido por". Neste caso, o usuário chamado "Emerson".</p>

        <figure>

        </figure>

        <h2>Departamentos sem gerentes</h2>

        <p>Se a estrutura da organização não tiver nenhum usuário atribuído como gerente. O método "Reportar a" atribuirá a tarefa ao mesmo usuário que concluiu a tarefa anterior.</p>

        <figure>

        </figure>

        <p>Neste exemplo, se o usuário "João" concluir a primeira tarefa do processo, a segunda tarefa também será atribuída a ele. Uma vez que não há supervisor ou gerente designado em nenhum dos departamentos.</p>

        <figure>

        </figure>

        <h2>Nenhum departamento superior</h2>

        <p>No caso de iniciar um caso com o membro mais alto do departamento de nível superior (o usuário "Alexandre" neste exemplo), a próxima tarefa será atribuída ao mesmo gerente que concluiu a tarefa anterior.</p>

        <figure>

        </figure>

        <h2 id="item2die">Autoatendimento</h2>

        <p>Uma regra de atribuição de autoatendimento permite que qualquer usuário do pool de usuários atribuídos reivindique o caso e trabalhe na tarefa. Em outras palavras, o usuário terá o poder de se designar para trabalhar na tarefa. O Autoatendimento pode ser usado para reduzir o congestionamento no fluxo de trabalho, especialmente quando os usuários podem avaliar melhor sua capacidade de assumir novos casos.</p>

        <p>Para atribuir este tipo de regra vá até o processo e clique com o botão direito sobre ele, selecione "Regras de Atribuição". Clique na opção "Autoatendimento".</p>

        <figure>

        </figure>

        <p>Para fins de teste, vá para <strong>"Início" => "Novo Caso"</strong> e clique duas vezes em "Pedido de Compras". Preencha o formulário de informações do cliente e envie-o. Para a próxima tarefa, a atribuição será listada como Não atribuída, o que significa que qualquer pessoa pode reivindicar o caso para cumprir a tarefa, incluindo o usuário anterior.</p>

        <figure>

        </figure>

        <p><font color="red">Aviso:</font> Os casos com tarefas que usam a regra de atribuição baseada em valor de autoatendimento e de autoatendimento estão localizados na lista Não atribuídos (exceto usuários Ad Hoc ).</p>

        <h2 id="item2diea">Definir limite de tempo para reivindicar um caso</h2>
        
        <p>Quando um caso usa a regra de atribuição de autoatendimento ou a regra de atribuição baseada em valor de autoatendimento, qualquer usuário do pool atribuído na tarefa com essa regra definida pode reivindicar o caso.</p>

        <p>Para evitar que o caso fique esquecido na pasta <strong>não atribuído</strong> há um limite de tempo, que permite aos usuários configurar o tempo que o caso permanecerá na pasta não atribuída, se esse tempo for ultrapassado, um Gatilho será executado automaticamente, por exemplo, esse gatilho poderia enviar uma notificação o que indicaria que há um caso para reclamar, poderia derivar o caso, etc. O gatilho será executado enquanto o caso permanecer na pasta não atribuída; configure o gatilho se ele precisar ser executado apenas uma vez.</p>

        <p>Quando a opção Autoatendimento for escolhida dentro das Regras de Atribuição, uma nova opção será habilitada:</p>

        <figure>

        </figure>

        <p>A opção Definir um tempo limite está habilitada, pois essa opção é opcional, o usuário pode selecioná-la caso seja necessário configurar um tempo para reivindicar o caso. Quando esta opção é selecionada, os parâmetros para definir a hora são exibidos.</p>

        <p><font color="green">Observação:</font>empo para a opção Definir um tempo limite não leva em consideração o calendário padrão ou aquele atribuído à tarefa. Esse comportamento de tempo ocorre ao definir o caso não atribuído na sintaxe Cron ou no Agendador de tarefas.</p>

        <figure>

        </figure>

        <p>Onde:</p>
        
        <ul type="disc">
            <li><strong>Hora:</strong> Campo Obrigatório. O tempo decorrido desde que o caso é derivado e enviado para a pasta não atribuída. Não é possível usar números decimais.</li>
            <li><strong>Unidade de tempo:</strong> Unidade de tempo expressa em horas e minutos.</li>
            <li><strong>Gatilho a executar:</strong> Campo Obrigatório. Escolha o gatilho que será acionado. Se este acionador enviar uma notificação, não se esqueça de habilitar as notificações por email para que as notificações funcionem corretamente. Para enviar notificações no momento correto, o servidor que executa o Gestor Express deverá ser configurado para executar um trabalho cron se Scheduled Taskestiver usando o Windows ou um cron se estiver usando o Linux/UNIX.</li>
            <li><strong>Execute Trigger</strong> Indica se o trigger será executado Uma vez ou Sempre agendado pelo cron.</li>
            <ul type="disc">
                <li><strong>Uma vez:</strong> Não importa o conteúdo do gatilho, ele será executado apenas uma vez.</li>
                <li><strong>Toda vez agendado pelo cron:</strong> O gatilho será executado dependendo da configuração do cron.</li>
            </ul>
        </ul>

        <p>Para obter mais informações, consulte Acionadores de tempo limite para tarefas de autoatendimento.</p>

        <h2 id="item2dif">Atribuição Baseada em Valor de Autoatendimento</h2>

        <p>A atribuição baseada em valor de autoatendimento é semelhante ao autoatendimento, mas usa uma variável para especificar quais usuários atribuídos à tarefa podem reivindicar o caso. A variável pode ser definida para o ID exclusivo de um único usuário, um único grupo de usuários ou uma matriz de usuários e/ou grupos. Dessa forma, os usuários que têm permissão para reivindicar o caso podem ser definidos dinamicamente.</p>

        <p><strong>Observação:</strong> Certifique-se de usar UMA variável para cada tarefa definida com este tipo de regra de atribuição, para NÃO substituir o valor da variável.</p>

        <p>Esta regra de atribuição também tem a opção de Definir limite de tempo para reivindicar um caso.</p>

        <figure>

        </figure>
        
        <p>Qualquer variável pode ser usada para atribuição baseada em valor de autoatendimento, mas essa variável deve ser definida por um campo de Formulário Dinâmico em uma tarefa anterior ou por um gatilho que é executado em qualquer ponto antes da atribuição na tarefa anterior. Por exemplo, se a variável usada para atribuição baseada em valor de autoatendimento for denominada <code>@@selfServicePool</code>, ela poderá ser definida das seguintes maneiras:</p>

        <ul>
            <li>Para um único usuário:

                <codeblock><font color="green">@@</font>selfServicePool = <font color="blue">"24856313956e88484e20548051901710"</font><font>;</font color="green"> //ID único de um usuário</codeblock>
            </li>
            <li>Para os membros de um grupo:
                <codeblock><font color="green">@@</font>selfServicePool = <font color="blue">"75310693956e884c026c941010229288"</font><font>;</font color="green"> //ID único de um grupo</codeblock>
            </li>
            <li>Para uma matriz de usuários e/ou grupos:
                <codeblock><p><font color="green">@@</font>selfServicePool = array<font color="green">(</font></p>
                    <p><font color="blue">"75310693956e884c026c941010229288"</font><font>;</font color="green"> //ID único de um usuário</p>
                    <p><font color="blue">"75310693956e884c026c941010229288"</font><font>;</font color="green"> //ID único de um grupo</p>
                    <p><font color="blue">"75310693956e884c026c941010229288"</font><font>;</font color="green"> //ID único de um usuário</p>
                        <p><font color="green">@@</font>USER_LOGGED     //ID único de um usuário logado no sistema  </p>
                <p><font color="green">);</font></p>
            </li>         
        </ul>

        <p>Para obter as IDs exclusivas dos usuários, consulte Atribuição baseada em valor acima. Os IDs exclusivos dos grupos podem ser encontrados usando a seguinte consulta SQL para procurá-los no banco de dados <strong>wf_WORKSPACE</strong>:</p>

        <codeblock><p>SELECT GRP_TITLE FROM GROUPWF WHERE GRP_TITLE='GroupName'</p></codeblock>

        <p>Lembre-se de que a variável usada pela atribuição baseada em valor de autoatendimento deve ser definida em algum momento antes da atribuição na tarefa anterior. Por exemplo, se estiver usando a atribuição baseada em valor de autoatendimento na tarefa "Processar reclamação" no processo a seguir, a variável deverá ser definida antes da atribuição ou em algum ponto anterior na tarefa "Inserir reclamação".</p>

        <figure>

        </figure>

        <p>Se a primeira tarefa no processo usar a atribuição baseada em valor de autoatendimento, o Gestor Express ignorará sua variável e atribuirá a primeira tarefa ao usuário que iniciou o caso. Se o caso for criado com PMFNewCase(), PMFNewCaseImpersonate(), serviço web newCase(), serviço web newCaseImpersonate(), terminal POST /cases ou terminal POST /cases/impersonate, ele também ignorará a atribuição baseada em valor de autoatendimento e ser atribuído ao usuário especificado pelo terminal function/web service/REST.</p>

        <p>No entanto, a variável para atribuição baseada em valor de autoatendimento será usada se o processo for usado como um subprocesso em outro processo. A variável precisa ser definida no caso mestre e ser uma das variáveis passadas para o caso do subprocesso.</p>

        <p>O usuário que inicia o caso será atribuído à tarefa inicial no caso, mas se o processo retornar à tarefa inicial, a variável para Atribuição Baseada em Valor de Autoatendimento será usada para quaisquer passagens subsequentes pela tarefa.</p>

        <p>Por exemplo, no processo a seguir, a tarefa "Inserir reclamação" usa a atribuição baseada em valor de autoatendimento. O usuário que iniciar o caso será designado para trabalhar na tarefa "Inserir reclamação" quando o caso for iniciado. No entanto, se o processo fizer um loop e enviar o caso de volta para a tarefa "Inserir reclamação" uma segunda vez, a atribuição baseada em valor de autoatendimento será usada.</p>

        <figure>

        </figure>

        <p>Leve em consideração os seguintes pontos:</p>

        <ul type="disc">
            <li>Se a regra de atribuição de tarefa atual não for Autoatendimento ou Atribuição Baseada em Valor de Autoatendimento e for atribuída a outro usuário.</li>
            <li>Se a regra de atribuição de tarefa atual estiver definida como Autoatendimento ou Autoatendimento Baseada em Valor, mas o usuário não puder reivindicar este caso, independentemente de o caso ter sido reivindicado ou não.</li>
            <li>Se a regra de atribuição de tarefa atual estiver definida como Autoatendimento ou Autoatendimento Baseada em Valor de e o usuário puder reivindicar, mas o caso já tiver sido reivindicado.</li>
        </ul>

        <p>A seguinte mensagem será exibida:</p>

        <figure>
            
        </figure>

        <h2 id="item2dii">Usuários <i>Ad Hoc</i></h2>

        <p>A atribuição <i>ad hoc</i> de usuários/grupos a tarefas torna esses usuários/grupos disponíveis para serem reatribuídos à tarefa, mas esses usuários/grupos não são atribuídos por padrão à tarefa quando ela é iniciada. Um usuário pode atribuir manualmente uma tarefa a um membro de um usuário/grupo <i>ad hoc</i> nas seguintes condições:</p>

        <ul>
            <li>Ter a permissão PM_REASSIGNCASE em sua função</li>
            <li>Tenha as permissões de processo para abrir o caso</li>
            <li>Ter uma permissão de Supervisor de Processo para gerenciar casos</li>
        </ul>

        <p>A atribuição <i>ad hoc</i> pode ser útil em várias situações. Por exemplo:</p>

        <ul>
            <li>Existem funcionários temporários ou a tempo parcial que nem sempre estão disponíveis para trabalhar na tarefa, pelo que só devem ser atribuídos à tarefa quando disponíveis. Um gerente ou os usuários normalmente atribuídos podem reatribuir o caso ao funcionário temporário quando estiver no trabalho.</li>
            <li>A carga de trabalho dos funcionários geralmente muda, portanto, um gerente precisa decidir quais funcionários são mais capazes de lidar com os casos. A tarefa é atribuída ao gerente por padrão e, em seguida, ele analisa a carga de trabalho e reatribui o caso a um dos funcionários que têm atribuição ad hoc à tarefa.</li>
            <li>Os usuários normalmente atribuídos geralmente lidam com a tarefa, mas pode haver casos especiais que só podem ser tratados por um gerente. Faça uma atribuição <i>ad hoc</i> do gerente à tarefa e conceda a todos os usuários normalmente atribuídos a permissão PM_REASSSIGNCASE. Quando surge um caso especial, eles podem reatribuir o caso ao gerente para tratá-lo.</li>
        </ul>

        <p>A atribuição <i>ad hoc</i> também pode ser usada para revisão automática da tarefa por outro usuário após ela ter sido concluída pelo usuário normalmente atribuído.</p>

        <p>Para atribuir usuários <i>ad hoc</i>, execute as seguintes etapas:</p>

        <ol>
            <li>Na guia <strong>Modelagem</strong>, clique duas vezes no processo.</li>
            <li>Selecione a tarefa que você deseja atribuir a usuários/grupos <i>ad hoc</i> clicando com o botão direito do mouse na tarefa e selecione <strong>Regras de atribuição</strong>.</li>
            <li>Alterne para a guia <strong>Usuários Ad Hoc</strong> e atribua os usuários.</li>
        </ol>

        <figure>

        </figure>

        <p>Leve em consideração que quando os usuários são atribuídos nesta janela, não é necessário ter nenhuma configuração adicional para definir os usuários <i>Ad hoc</i>.</p>

        <p>Para reatribuir uma tarefa em que a atribuição <i>ad hoc</i> foi definida, siga estas etapas:</p>

        <ul>
            <li>Vá para Ações => Reatribuir.
                <figure>
                    
                </figure>
            </li>
            <li>Escolha um usuário da lista.</li>
            <li>No campo Motivo para reatribuir este caso, forneça um motivo para a reatribuição.</li>
            <li>Clique em Reatribuir.
                <figure>

                </figure>
            </li>
        </ul>

        <p>Uma mensagem de confirmação é exibida.</p>

        <figure id="detalhe">

        </figure>

        <p>Depois que o usuário normalmente atribuído concluir a tarefa, o caso será reatribuído automaticamente a um dos usuários <i>Ad hoc</i> para revisar as etapas da tarefa e verificar se ela foi feita corretamente.</p>

        <h2 id="item2diii">Desempenho da janela de atribuição</h2>

        <p>Por fim, leve em consideração que todos os usuários e grupos criados no Gestor Express são mostrados na lista de usuários e nas abas <i>ad hoc</i>. Além disso, observe que a janela "Regras de atribuição" possui uma nova interface aprimorada com um novo recurso de paginação. A paginação suporta uma grande quantidade de usuários na interface permitindo a navegação pelos Usuários/Grupos/Departamentos já adicionados. Cada página lista até 8 Usuários/Grupos/Departamentos. A lista de oito pode ser passada da "Lista de usuários disponíveis" para a "Lista de usuários atribuídos". Este tipo de gerenciamento melhora o desempenho das listagens quando há uma grande quantidade de usuários/grupos (como 40.000) no Gestor Express.</p>

        <figure>

        </figure>

        <h2 id="item2e">Editar etiqueta</h2>

        <p>É possível editar o rótulo de uma tarefa. Selecione a opção "Editar etiqueta" no menu de contexto da tarefa</p>

        <figure id="detalhe">

        </figure>

        <p>O rótulo será editável, então altere-o e pressione Enter para aplicar as alterações:</p>

        <figure id="detalhe">

        </figure>

        <p>Uma etiqueta também pode ser editada clicando duas vezes em seu nome.</p>

        <p><font color="green">Observação:</font>eve em consideração que o nome da tarefa não deve ser alterado quando houver casos sendo executados nesta tarefa. Se precisar alterar o nome da tarefa, leve em consideração que os casos que já foram iniciados no processo não atualizarão o nome da tarefa nas listas.</p>

        <h2 id="item2f">Excluir</h2>

        <p>Para excluir uma tarefa ou subprocesso, clique com o botão direito sobre ela e selecione <strong>Excluir</strong> no menu de contexto da tarefa. O botão "Del" no teclado também pode ser usado para removê-lo.</p>

        <figure id="detalhe">

        </figure>

        <p>Antes que uma tarefa possa ser excluída, todos os usuários ou grupos atribuídos à tarefa devem ser removidos da tarefa. A tarefa também não pode ser excluída se houver casos ativos, pausados ou cancelados nessa tarefa.</p>

        <figure>

        </figure>

        <p>Quaisquer casos ativos ou pausados devem ser concluídos antes de excluir a tarefa. Se os casos foram cancelados na tarefa, a única maneira de excluir a tarefa é ir primeiro ao menu Modelagem e selecionar o modelo de processo na lista. Em seguida, clique no botão Excluir casos para eliminar todos os casos desse modelo de processo no banco de dados.</p>

        <figure>

        </figure>

        <p>Se precisar manter os casos existentes, outra opção é exportar o processo e reimportá-lo como um novo processo, para que não haja casos existentes e a tarefa possa ser excluída.</p>

        <h2 id="item2g">Propriedades</h2>

        <p>As propriedades da tarefa devem ser a primeira opção a ser configurada. Na janela modal que se abre, existem várias opções para configurar a tarefa e dar-lhe maior funcionalidade e controle. Selecione e preencha as opções que melhor se adequam à definição da tarefa.</p>

        <h2 id="item2gi">Definições</h2>

        <figure>

        </figure>

        <ul>
            <li><strong>UID.</strong> Um número hexadecimal de 32 que identifica exclusivamente a tarefa. O UID não pode ser editado.</li>
            <li><strong>Rótulo.</strong> Campo obrigatório. O título ou rótulo de uma tarefa, que é exibido no Mapa do Processo. Recomenda-se usar combinações verbo-substantivo no rótulo, como "Processo de reivindicação" ou "Revisar inscrição".</li>
            <li><strong>Descrição.</strong> Dê uma breve descrição da tarefa. Recomenda-se descrever qual trabalho é feito e quem será designado para esse trabalho.</li>
            <li><strong>Variável para prioridade de caso.</strong> Uma variável ou inteiro fixo que determina a prioridade de uma tarefa. A prioridade de um caso pode estar entre 1 e 5:
                <ul>
                    <li><strong>5</strong> - Muito alto</li>
                    <li><strong>4</strong> - Alto</li>
                    <li><strong>3</strong> - Normal</li>
                    <li><strong>2</strong> - Baixo</li>
                    <li><strong>1</strong> - Muito Baixo</li>
                </ul>
            </li>
        </ul>

        <p>Use o botão @@ para selecionar variáveis de caso ou de sistema. Por padrão, a prioridade dos casos é determinada por uma variável de sistema chamada <code>@@SYS_CASE_PRIORITY</code>, que tem um valor padrão de 3 (prioridade normal), mas esse valor pode ser alterado definindo o valor de <code>@@SYS_CASE_PRIORITY</code> em um gatilho (ou em um campo de Formulário Dinâmico chamado "SYS_CASE_PRIORITY"). No entanto, a prioridade de caso pode ser determinada por uma variável de caso personalizada. Por exemplo, a variável case <code>@@approvalTaskPriority</code> pode ser usada e seu valor pode ser definido em um gatilho que examina os dados do caso e determina o valor apropriado. Da mesma forma, seu valor pode ser definido em uma caixa suspensa do Formulário Dinâmico chamada "Variável para Priodirdade no Processo", que permite ao usuário selecionar a prioridade apropriada.</p>

        <p>A prioridade de uma tarefa é exibida na coluna Prioridade na caixa de entrada e nas pastas de rascunho e na opção Revisar no menu Supervisor de processo.</p>

        <figure>

        </figure>

        <p>Os usuários podem classificar seus casos por prioridade clicando na pequena seta na coluna Prioridade e clicando na opção crescente ou decrescente. Por exemplo, selecione a opção <strong>Classificar decrescente</strong> para que os casos de prioridade 1 apareçam no topo da lista e os casos de prioridade 5 apareçam na parte inferior.</p>

        <figure id="detalhe">

        </figure>

        <p><strong>Modelo de tela de roteamento.</strong> Os desenheistas de processo podem personalizar o modelo de tela que é mostrado ao usuário ao concluir uma tarefa e encaminhar para a próxima tarefa ou subprocesso no processo. Cada tarefa pode ter seu próprio modelo de tela de roteamento.</p>
        
        <h2 id="item2gii">Rótulos de caso</h2>

        <p>Os rótulos de caso são usados para fornecer uma referência clara e descritiva para um caso. Eles são usados para fornecer um título e uma descrição para casos por encadeamento, para que possam ser facilmente identificados em uma lista de casos. Variáveis de sistema e caso podem ser inseridas dentro desses rótulos para personalizar as informações. Os usuários podem pesquisar casos específicos usando os títulos dos casos. As descrições dos casos são exibidas no "Resumo do caso".</p>

        <p><font color="green">Observação:</font> não é recomendado alterar o rótulo do caso porque após o roteamento, o caso tem um arquivo <code>del_index</code>.</p>

        <figure>

        </figure>

        <ul>
            <li>
                <strong>Título.</strong> Por padrão, o título do caso é o número do caso, como <code>#45</code>. Neste campo podem ser atribuídos títulos aos casos, assim como podem ser inseridas variáveis dentro do título. Use o botão [ @@ ] para ver quais variáveis estão disponíveis e insira-as no título.
                <p>O título do caso pode ser modificado em cada tarefa, pois este é um título exclusivo para todo o caso.</p>
            </li>
            <li><strong>Descrição.</strong> Nesse campo, as descrições podem ser atribuídas ao caso e podem ser tão descritivas quanto necessário. Use o botão [ @@ ] para visualizar a lista de variáveis disponíveis e insira-as na descrição.</li>
        </ul>

        <p>Use o <strong>título do segmento de caso</strong> para registrar um rótulo de caso por segmento em um caso. Por exemplo, se você configurar três tarefas diferentes usando roteamento paralelo, você definirá três tópicos em um processo. Como resultado, cada encadeamento pode ter seu próprio rótulo de caso, conforme exibido no exemplo a seguir.</p>

        <figure>

        </figure>


        <p>É altamente recomendável evitar a inserção de longas sequências de texto na coluna Título do Tópico do Caso. A finalidade dos rótulos de caso é fornecer uma referência clara e descritiva para um caso. Use rótulos de caso para fazer referência e identificar seu caso e status no fluxo de trabalho do processo como uma boa prática, conforme exibido no exemplo a seguir.</p>

        <figure>

        </figure>

        <p><font color="green">Observação:</font> Normalmente, o registro de longas sequências de texto não é tratado corretamente em nenhum aplicativo da Web ou aplicativo móvel. É uma boa prática usar "..." para retomar o texto e definir um valor de largura máxima para a coluna.</p>

        <p>Tanto o título quanto a descrição do caso podem ser visualizados dentro do resumo de um caso:</p>

        <figure>

        </figure>

        <h2 id="item2giia">Título do caso em tarefas paralelas</h2>

        <p>Um modelador de processo, com permissões adequadas, pode alterar o Título do Caso em tarefas paralelas. O uso de títulos de casos fortalece a diferenciação de vários segmentos em uma lista de casos ao usar gateways paralelos. Considere que se o título do caso não estiver definido, ele exibirá o título do caso da tarefa anterior. Os títulos de casos também são exibidos em uma lista de casos para pesquisar casos facilmente. Para obter mais informações sobre como definir os títulos do caso, consulte a seção acima.</p>

        <p>Os exemplos abaixo mostram como os títulos de caso funcionam quando definidos ou não:</p>
        
        <p><font color="green">Observação:</font> para obter mais informações sobre como verificar os detalhes do caso, siga este link.</p>

        <ul>
            <li>
                No gráfico a seguir, a <strong>Tarefa 2.1</strong> tem seu próprio título de caso oposto ao da <strong>Tarefa 3.1</strong>, que a <strong>Tarefa 1</strong> herda seu título de caso.
                <figure>
            
                </figure>
            </li>
            <li>O título do caso herda do título anterior, mesmo quando foi definido anteriormente em muitas tarefas antes da atual.</li>
            <li>
                No gráfico a seguir, o título da <strong>Tarefa 2.2</strong> é o <strong>Título B</strong> porque esse foi o título definido na tarefa anterior do encadeamento. Enquanto o <strong>Título A</strong> da <strong>Tarefa 1</strong> herda o título da <strong>Tarefa 3.2</strong>.
                <figure>
            
                </figure>
            </li>
            <li>
                O título do último encadeamento fechado será usado se o título do caso após um gateway convergente não for definido. No gráfico abaixo, o título da <strong>Tarefa 4</strong> é o <strong>Título B</strong> (o mesmo que a <strong>Tarefa 2.2</strong>) porque a <strong>Tarefa 2.2</strong> foi o último segmento concluído. No entanto, o título da <strong>Tarefa 4</strong> pode ter sido o <strong>Título C</strong> se a <strong>Tarefa 3.2</strong> tivesse sido concluída após a <strong>Tarefa 2.2</strong>. A melhor prática para evitar esse comportamento é definir o título na <strong>Tarefa 4</strong>.
                <figure>
            
                </figure>
            </li>
            <li>
                Recomenda-se definir o título quando houver vários fluxos de entrada. O gráfico abaixo descreve como o título da <strong>Tarefa 2</strong> foi inicialmente chamado de <strong>Título A</strong>, depois mudou para <strong>Título B</strong> quando o fluxo voltou da <strong>Tarefa 3</strong> para a <strong>Tarefa 2</strong>.
                <figure>
                
                </figure>
            </li>    
        </ul>

        <h2 id="item2giib">Usando variáveis em rótulos de caso</h2>

        <p>Se a variável for referenciada como <code>@@variable</code>, seu valor será colocado entre aspas duplas e quaisquer aspas simples e duplas serão escapadas com barras invertidas, quando inseridas no título do caso e na descrição do caso. Por exemplo, se o título do caso for: <code>Last Name: @@lname</code> e o valor de for <code>@@lname</code> é <code>O'brien'</code>, o título do caso será:<code>Last Name: "O\'brien"</code></p>

        <p>Se a variável for referenciada como <code>@#variable</code>seu valor será inserido sem nenhuma alteração no título do caso e na descrição do caso. Por exemplo, se o título do caso for: <code>Last Name: @#lname</code> e o valor de <code>@#lname</code> for <code>O'brien</code> o título do caso será:<code>Last Name: O'brien</code></p>

        <p>Lembre-se de que as variáveis associadas às caixas de seleção, caixas suspensas e caixas de sugestão têm o valor da opção selecionada armazenado em <code>@#variable@</code> e o rótulo da opção selecionada armazenado em <code>@variable_label</code>. Por exemplo, para exibir o rótulo da opção selecionada na variável "clientType", o título do caso seria <code>@#clientType_label</code>.</p>

        <p>Alguns tipos de variáveis, como arrays (usados por controles de grupo de verificação), grades e arquivos, podem não ser convertidos facilmente em strings que podem ser inseridas em rótulos de casos. Se for necessário incluir esses tipos de variáveis em um rótulo de caso, é recomendável usar um gatilho executado previamente que transforma o valor dessas variáveis em variáveis string que podem ser inseridas no rótulo do caso.</p>

        <p>Por exemplo, o código de gatilho a seguir executado na tarefa anterior obteria o nome do arquivo carregado em um controle de arquivo associado à variável <code>@@contractFile</code> e o colocaria na variável <code>@@contractFilename</code>.</p>

        <codeblock>
            <p><font color="green">@@</font>contractFilename <font color="green">=</font> ''<font color="green">;</font></p>
            <p>if <font color="green">(</font><font color="red">isset</font><font color="green">(@@</font>contractFile_label) e <font color="green">!</font><font color=red>empty</font><font color="green">(@@</font>contractFile_label<font color="green">)) {</font></p>
            <p><font color="blue">$aFile</font> = <font color="red">json_decodefont</font><font color="green">(@@</font>contractFile_label<font color="green">);</font></p>
                <p>if <font color="green">(</font><font color="red">count</font>(<font color="blue">$aFile</font><font color="green">))</font></p>
                    <p><font color="green">@@</font>contractFilename <font color="green">=</font><font color="blue">$aFile</font><font color="green">[</font><font color="magenta">0</font><font color="green">];</font></p>
            <p><font color="green">}</font></p>
        </codeblock>


        <p>Então, a variável <code>@#contractFilename</code> pode ter um valor como "<code>signedContract_2016-10.pdf</code>" que pode ser inserido em um título de caso.</p>

        <p>Da mesma forma, o seguinte gatilho obtém uma lista das opções selecionadas em um grupo de verificação associado à variável <code>@@selectCountries</code> e coloca os rótulos na variável <code>@@selectCountriesNames</code>:</p>

        <codeblock>
            <p>@@ selectCountriesNames = '' ;</p>
            <p>if (isset(@@ electCountries_label) e !empty(@@selectCountries_label)) {</p>
                <p>$aCountries = json_decode (@@selectCountries_label);</p>
                <p>foreach ($aCountry as $country) {</p>
                    <p>@@selectCountriesNames .= (empty(@@selectCountriesNames) ? '' : ', ' ) . $país ;</p>
                <p>}</p>
            <p>}</p>
        </codeblock>

        <p>Então, a variável <code>@#selectCountriesNames</code> pode ter um valor como "<code>Argentina, Holanda, Portugal</code>" que pode ser inserido em uma descrição de caso.</p>

        <h2 id="item2giii">Controle de tempo</h2>

        <p>Esta propriedade é usada para definir a data de vencimento de uma tarefa. A tarefa deve ser concluída dentro de um determinado período de tempo, que pode ser definido de acordo com um número de dias úteis ou dias em um calendário personalizado.</p>
        
        <figure>

        </figure>

        <p>Existem cinco opções para definir:</p>

        <ul>
            <li>
                <strong>Permitir controle de tempo definido pelo usuário:</strong> Esta opção permite que o usuário atribuído à tarefa anterior no processo defina manualmente o horário agendado para a próxima tarefa quando um caso é roteado. Se esta opção estiver marcada, quando o caso estiver prestes a ser encaminhado para a próxima tarefa, os seguintes campos serão exibidos:
            
                <figure>
                </figure>
            </li>
            <li><strong>Duração da tarefa:</strong> Um número inteiro que define a duração da tarefa um número inteiro. Números negativos e decimais não são permitidos.</li>
            <li><strong>Unidade de tempo:</strong> A unidade de tempo, que pode ser horas ou dias.</li>
            <li><strong>Conta os dias por:</strong> A duração da tarefa, que pode ser contada em dias úteis (segunda a sexta-feira) ou dias corridos.</li>
            <li><strong>Calendário:</strong>ione um calendário no qual a duração da tarefa será baseada. Se nenhum calendário personalizado tiver sido criado, o calendário "Padrão" será selecionado automaticamente; caso contrário, selecione um da lista.</li>
        </ul>

        <p>Se o tempo definido para concluir uma tarefa já tiver passado, o tempo será exibido em vermelho na coluna "Data de vencimento" na lista de casos encontrados em <strong>Inicio => Caixa de entrada</strong>, o que significa que o caso precisa ser tratado imediatamente. Se o usuário ainda tiver tempo para concluir a tarefa, a data de vencimento será exibida em verde.</p>

        <figure>

        </figure>

        <p>O controle de tempo do Gestor Express lida com o controle de tempo entre usuários que têm diferentes fusos horários definidos em seus parâmetros de usuário, calculando as horas de disponibilidade com base em um calendário personalizado, se houver um.</p>

        <p>O Gestor Express segue estas etapas no cenário descrito:</p>

        <ul>
            <li>Obtenher a data de delegação mais recente (do servidor)</li>
            <li>Converter a data da delegação para o próximo fuso horário do usuário</li>
            <li>Calcular a base de data de vencimento no calendário padrão</li>
            <li>Converter para data de vencimento para fuso horário UTC</li>
        </ul>

        <p>A data de vencimento é calculada com base no fuso horário pertencente ao usuário que está roteando o caso para a próxima tarefa.</p>

        <h2 id="item2giv">Notificações</h2>

        <p>Essa propriedade de tarefa é usada para enviar uma notificação por email para o próximo usuário atribuído no caso. Certifique-se de que o Gestor Express esteja configurado para usar um servidor de e-mail.</p>

        <p>Para ver as opções de notificação em uma tarefa, siga as próximas etapas:</p>

        <ol>
            <li>Faça login no Gestor Express com a permissão PM_FACTORY.</li>
            <li>Vá para a guia Modelagem.</li>
            <li>Crie ou simplesmente edite um processo.</li>
            <li>No Mapa do Processo, clique com o botão direito do mouse em uma tarefa.</li>
            <li>As propriedades da tarefa são exibidas. No menu suspenso, selecione a opção Propriedades.</li>
            <li>A janela Propriedades da Atividade é exibida. Clique na opção Notificações .</li>
            <li>As opções de notificação são exibidas no lado direito.</li>
        </ol>

        <figure>

        </figure>

        <p>Para obter mais informações sobre as opções de notificação, consulte Notificações.</p>

        <h2 id="item2gv">Móvel</h2>

        <p>As propriedades móveis permitem que o usuário configure uma tarefa para uso offline.</p>

        <figure>

        </figure>

        atributo offline

        <ul>
            <li>
                <strong>Ativa esta tarefa para uso offline:</strong> Ativa ou desativa uma tarefa para uso offline. Se marcada, uma caixa de seleção é exibida para configurar o comportamento da tarefa quando estiver online novamente.
                <figure>
            
                </figure>
            </li>
            <li><strong>Encaminhar caso quando estiver online novamente:</strong> Se marcado, roteia o caso quando estiver online novamente, caso contrário, o caso deve ser roteado manualmente.</li>
        </ul>


        <h1 id="item3">Exemplos</h1>

        <h2 id="item3a">Exemplo de atribuição baseada em valor</h2>

        <p>Este exemplo mostra como usar a atribuição baseada em valor cuja variável é definida pelo gatilho que procura os IDs exclusivos do usuário com base no nome de usuário. Começando com um processo chamado "Regras de atribuição" e terá um Evento Inicial, duas tarefas e um Evento Final, no qual ambas as tarefas terão regras de atribuição e etapas diferentes a serem seguidas.</p>

        <figure>

        </figure>

        <p>Para esta atribuição baseada em valores, crie duas variáveis. A primeira variável com o nome "Valor" será escolhida no Formulário Dinâmico, mais precisamente em uma Textbox "Quantia". A segunda variável é "ProximoUser" que será usada em um código de gatilho.</p>

        <figure>

        </figure>

        <p>Em seguida, crie um formulário dinâmico com o nome "Valor", que terá apenas um controle Textbox e um botão para enviar o valor inserido. Este texto será preenchido com um número, se for igual ou maior que 1000 escolherá a usuária "Rose Sá" e se for menor que 1000 escolherá a usuária "Gabriela Calderón".</p>

        <figure>

        </figure>

        <p>Agora para o gatilho, é necessário código de programação para escolha do usuário. O código abaixo pode ser usado para este exemplo:</p>

        <codeblock>
            if <font color="green">(@</font>#Valor < 1000)
            $NextUsername = 'gabriela'; //Gerente local
            else
                $NextUsername = 'rsa'; //Gerente regional
            
            //procure o UID para o $NextUsername no banco de dados MySQL do Gestor Express:
            $query  = executeQuery(<font color="blue">"selecione USR_UID de USERS onde USR_USERNAME='</font>$NextUsername'");
            <font color="green">@@</font>NextUser = $query<font color="green">[</font><font color="magenta">1</font><font color="green">][</font>'USR_UID'<font color="green">];</font>
        </codeblock>

        <p>Usamos a variável recém criada no final do código. @@NextUser é o valor no qual o processo está se baseando.</p>

        <figure>

        </figure>

        <p>Agora, adicione todos os Formulários Dinâmicos, etapas e regras necessárias para que este exemplo funcione. Primeiro, clique com o botão direito do mouse em "Tarefa 1" => "Etapas" e arraste e solte o Formulário Dinâmico "Valor". Adicione também o gatilho para obter as informações do usuário, salve e saia. Clique com o botão direito do mouse em "Tarefa 1" > "Regras de Atribuição", pois a primeira tarefa deixará para uma regra de "Atribuição Cíclica".</p>

        <figure>

        </figure>

        <p>Para "Tarefa 2", clique com o botão direito sobre ela e selecione simplesmente "Regras de atribuição". Aqui o método de atribuição de caso é "Atribuição Baseada em Valor" um novo campo chamado "Variável para Atribuição Baseada em Valor" aparecerá onde a variável "@@NextUser" deve ser adicionada, clique no botão "Salvar" para armazenar todas as alterações.</p>

        <figure>

        </figure>

        Execute o caso indo em "Início" => "Novo Caso", clique duas vezes no processo "Baseado em Valor". O primeiro Formulário Dinâmico aparecerá, preencha o valor com 1100, envie-o. A pessoa designada para a próxima tarefa será "Rose Sá", isso prova que o gatilho está funcionando corretamente.

        <figure>

        </figure>

        <p>Se o valor for inferior a 1000, como por exemplo 700, a pessoa designada para a segunda tarefa é "Gabriela Calderón".</p>

        <figure>

        </figure>
    </article>

    <article>

        <h2 id="item3b">Exemplo de atribuição baseada em valor de autoatendimento</h2>

        <p>Para testar a atribuição baseada em valor de autoatendimento, crie um novo processo com um evento inicial, duas tarefas e um evento final.</p>

        <figure>

        </figure>

        <p>Agora, crie duas variáveis: string do tipo "dropdown" e string do tipo "Groups" também. Ambas as variáveis funcionarão com o processo para chamar todos os Grupos armazenados no Gestor Express.</p>

        <figure>

        </figure>

        <p>Crie um Formulário Dinâmico que terá um controle suspenso e um botão de envio. Além disso, este Formulário Dinâmico terá uma sentença SQL que analisará os grupos salvos no armazenamento de dados do Gestor Express:</p>

        <codeblock>SELECT GRP_UID , GRP_TITLE FROM GROUPWF ;</codeblock>

        <figure>

        </figure>

        <p>Agora, atribua as etapas e regras para ambas as tarefas. Clique com o botão direito do mouse na primeira tarefa e selecione "Etapas" e adicione o Formulário Dinâmico criado antes chamado "Grupos", lembre-se que isso será preenchido pelos grupos armazenados do Gestor Express. O usuário escolherá um para os grupos e, portanto, como o caso será desatribuído, os funcionários dentro do grupo poderão optar por trabalhar no caso ou não. Também em "Tarefa 1" clique com o botão direito sobre ela e selecione "Regras de Atribuição", para esta tarefa selecione uma "Atribuição Cíclica".</p>

        <figure>

        </figure>

        <p>Agora, para "Tarefas 2" selecione "Regas de Atribuição" e neste caso o método será "Atribuição baseada em valor de autoatendimento" e a variável será <strong>@@Groups</strong>. Isso chamará os grupos e as pessoas atribuídas a esse grupo específico.</p>

        <figure>

        </figure>

        <p>A cada configuração feita é hora de testá-la, vá em "Início" => "Novo Caso" e dê um duplo clique em "Autoatendimento baseado em valor". Quando for iniciado, o menu suspenso mostrará todos os grupos no armazenamento do Gestor Express. Para este exemplo, escolha o grupo "Finanças" que possui apenas um usuário e que é "João Silveira" e depois envie-o. Como visto na imagem abaixo, a segunda tarefa não está atribuída.</p>

        <figure>

        </figure>

        <p>Para verificar se essa atribuição está realmente funcionando, saia e faça login como o funcionário de  Finanças" João. Uma vez logado, verifique a caixa de entrada Não atribuído e o caso recém-iniciado aparecerá lá. Se o grupo tivesse mais usuários, qualquer um deles poderia entrar e reivindicar este caso para trabalhar nele. Para este exemplo, clique duas vezes no caso para reivindicá-lo. A próxima janela é apenas uma janela de processo final, mas em outros casos quando o processo é maior o João teria que fazer a próxima tarefa ou isso dependerá da regra de atribuição fornecida em um processo.</p>

        <figure>

        </figure>

        <h2 id="item3c">Cancelar a reivindicação de uma tarefa de autoatendimento</h2>

        <p>Depois que um usuário reivindica um caso com uma tarefa de autoatendimento, não há função integrada no Gestor Express para cancelar a reivindicação desse caso e permitir que outro usuário reivindique o caso. No entanto, é possível cancelar a reivindicação de um caso adicionando um loop em torno do qual o roteamento volta para a mesma tarefa de autoatendimento.</p>

        <p>Para permitir que os usuários cancelem a reivindicação de um caso, primeiro crie uma variável de string chamada DevolverCaso. Em seguida, adicione um gateway exclusivo após a tarefa de autoatendimento que tenha um caminho que roteie de volta para a tarefa de autoatendimento.</p>

        <figure>

        </figure>

        <p>Nas <strong>Propriedades</strong> do gateway exclusivo, adicione condições para controlar o roteamento. Se a variável @@DevolverCaso for igual 'sim', o processo retornará à tarefa de autoatendimento; caso contrário, ele será encaminhado para a próxima tarefa no processo.</p>

        <figure>

        </figure>

        <p>Em seguida, adicione um botão de envio a um formulário dinâmico na tarefa de autoatendimento, que possui o ID DevolverCaso. Leve em consideração que o controle de botão não é usado como variável. Este controle de botão está associado a um controle oculto para funcionar corretamente conforme descrito no JavaScript abaixo.</p>

        <figure id="detalhe">

        </figure>

        <p>Em seguida, adicione o seguinte código JavaScript ao Formulário Dinâmico para definir o valor da variável @@devolverCaso para 'sim', quando o botão Devolver Case for clicado:</p>

        <codeblock>
            <p>$<font color="green">(</font><font color="blue">"#unclaimCasebtn"</font><font color="green">)</font>.<font color="darkred">find</font><font color="green">(</font><font color="blue">"botão"</font><font color="green">)</font>.<font color="darkred">click</font><font color="green">(</font><strong>function</strong><font color="green">(){</font></p>
                <p>$<font color="green">(</font><font color="blue">"#devolverCaso"</font><font color="green">)</font>.<font color="darkred">setValue</font><font color="green">(</font><font color="blue">"sim"</font><font color="green">);</font></p>
                <p>$ <font color="green">(</font><font color="blue">"#1711683455e78eb2cce3f49029501488"</font><font color="green">)</font>.<font color="darkred">submit</font><font color="green">();</font></p>
            <p><font color="green">});</font></p>
        </codeblock>


        <p>Quando a tarefa Processo de Devolução for concluída, o caso será roteado de volta para a mesma tarefa e todos os usuários no pool de atribuições da tarefa estarão disponíveis para reivindicar o caso. Se precisar que o caso seja imediatamente não reivindicado, crie o seguinte gatilho que usa a função PMFDerivarCaso() para rotear imediatamente o caso para o gateway exclusivo, que é definido para disparar após o Formulário Dinâmico contendo o botão Devolver Caso:</p>

        <codeblock>PMFDerivarCaso<font color="green">(@@</font>APPLICATION, @%INDEX<font color="green">);</font></codeblock>

        <p>Defina o gatilho acima para disparar após o Formulário Dinâmico que contém o botão Devolver Caso.</p>
    </article>

    </section>

   

    <aside>
    <section id="lado">
    <ol>
        <li><a href="#item1">Visão geral</a></li>
        <ol type="A">
            <li><a href="#item1a">Adicionando Tarefas</a></li>
            <li><a href="#item1b">Conectando Tarefas</a></li>
        </ol>
        <li><a href="#item2">Menu de Contexto da Tarefa</a></li>
            <ol type="A">
            <li><a href="#item2a">Tipos de tarefa</a></li>
            <ol type="i">
                <li><a href="#item2ai">Tarefa vazia</a></li>
                <li><a href="#item2aii">Enviar tarefa</a></li>
                <li>R<a href="#item2aiii">eceber Tarefa</a></li>
                <li><a href="#item2aiv">Tarefa do usuário</a></li>
                <li><a href="#item2av">Tarefa de script</a></li>
                <li><a href="#item2avi">Tarefa Manual</a></li>
                <li><a href="#item2avii">Tarefa de Negócios</a></li>
            </ol>
            <li><a href="#item2b">Tipo de marcador</a></li>
            <ol type="i">
                <li><a href="#item2bi">Ciclo</a></li>
                <li><a href="#item2bii">Paralelo</a></li>
                <ol type="a">
                    <li><a href="#item2biia">Atribuição Paralela</a></li>
                    <li><a href="#item2biib">Paralelo: Atribuição Baseada em Valor</a></li>
                </ol>
                <li><a href="#item2bii">Sequencial</a></li>
                </ol>
            <li><a href="#item2c">Etapas</a></li>
            <ol type="i">
                <li><a href="#item2ci">Gerenciando as etapas de uma tarefa</a></li>
                <li><a href="#item2cii">Atribuindo gatilhos a uma tarefa</a></li>
            </ol>
            <li><a href="#item2d">Regras de atribuição</a></li>
            <ol type="i">
                <li><a href="#item2di">Guia Usuários</a></li>
                <ol type="a">
                    <li><a href="#item2dia">Atribuição Cíclica</a></li>
                    <li><a href="#item2dib">Atribuição Manual</a></li>
                    <ol type="a">
                        <li><a href="#item2diba">Atribuição Manual - Problemas Conhecidos</a></li>
                    </ol>
                    <li><a href="#item2dic">Atribuição Baseada em Valor</a></li>
                    <li><a href="#item2did">Reportar a</a></li>
                    <ol type="a">
                        <li><a href="#item2dida">Casos especiais</a></li>
                    </ol>
                    <li><a href="#item2die">Autoatendimento</a></li>
                    <ol type="a">
                        <li><a href="#item2diea">Definir limite de tempo para reivindicar um caso</a></li>
                    </ol>
                    <li><a href="#item2dif">Atribuição Baseada em Valor de Autoatendimento</a></li>
                </ol>
                <li><a href="#item2dii">Usuários Ad Hoc</a></li>
                <li><a href="#item2diii">Desempenho da janela de atribuição</a></li>
            </ol>
            <li><a href="#item2e">Editar etiqueta</a></li>
            <li><a href="#item2f">Excluir</a></li>
            <li><a href="#item2g">Propriedades</a></li>
            <ol type="i">
                <li><a href="#item2gi">Definições</a></li>
                <li><a href="#item2gii">Rótulos de caso</a></li>
                <ol type="a">
                    <li><a href="#item2giia">Título do caso em tarefas paralelas</a></li>
                    <li><a href="#item2giib">Usando variáveis em rótulos de caso</a></li>
                </ol>
                <li><a href="#item2giii">Controle de tempo</a></li>
                <li><a href="#item2giv">Notificações</a></li>
                <li><a href="#item2gv">Móvel</a></li>
            </ol>
        </ol>    
        <li><a href="#item3">Exemplos</a></li>
        <ol type="A">
            <li><a href="#item3a">Exemplo de atribuição baseada em valor</a></li>
            <li><a href="#item3b">Exemplo de atribuição baseada em valor de autoatendimento</a></li>
            <li><a href="#item3c">Cancelar a reivindicação de uma tarefa de autoatendimento</a></li>
        </ol>
    </ol>                
    </section>
    </aside>

    <footer>
        <div class="container-footer">
            <div class="row-footer">
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Selo de Qualidade</h4>

                    <figure>
                        <img src="../_imagens/impacto-logo-branco.png" alt="">
                    </figure>

                </div>
                <!--end footer-col-->
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Endereço</h4>
                    <p>Impacto Positivo Com e Serv Inf Ltda</p>
                    <p>Avenida Nações Unidas, 17-17</p>
                    <p>Vila Santo Antônio</p>
                    <p>17015-903, Bauru, SP</p>
                </div>
                <!--end footer-col-->
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Mídias Sociais</h4>
                    <div class="medias-sociais">
                        <a href="http://gestorexpress.com.br/" target="_blank"><img src="../_imagens/website.png" alt="Website"></a>                        
                        <a href="https://www.facebook.com/gestorexpress.bpm" target="_blank"><img src="../_imagens/facebook.png" alt="Facebook"></a>
                        <a href="https://www.linkedin.com/showcase/gestorexpress/?viewAsMember=true" target="_blank"><img src="../_imagens/linkedin.png" alt="Linkedin"></a>
                        <a href="https://www.youtube.com/channel/UCo1oOgyK-VSr3ntT7FFjAOw" target="_blank""><img src="../_imagens/youtube.png" alt="YouTube"></a>
                    </div>
                </div>
                <!--end footer-col-->
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Subescreva-se</h4>
                    <!-- form sub -->             
                    <div class="form-sub">
                        <form>
                            <input type="email" aria-placeholder="Digite o seu e-mail" required>
                            <button>Subescrever</button>
                        </form>
                    </div>
                    <!-- form sub -->        

                </div> 
                <!--end footer-col-->
            </div>
        </div>
    </footer>
</main>
</body>
</html>
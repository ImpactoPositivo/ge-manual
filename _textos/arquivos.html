<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor Express - Arquivos</title>
    <link rel="stylesheet" href="../_css/style.css">
    <link rel="shortcut icon" href="../_imagens/ge-favicon.ico" type="image/x-icon">
    <script src="https://kit.fontawesome.com/316dcb45b5.js" crossorigin="anonymous"></script>
</head>
<body>
<main>
    <header>
        <figure>
            <a href="../index.html"><img id="logo" src="../_imagens/logo.png" alt="Logotipo Gestor Express"></a>
        </figure>
        <div id="cabecario">
            <h1>Gestor Express</h1>
            <h2>Gerenciamento de Fluxo de Trabalho</h2>
        </div>
    </header>

 <aside>
        <section id="lado">
            <h1>Arquivos/h1>
            <h2>Conteúdo:</h2>
            <ol>
                <li><a href="#item1">Visão geral</a></li>
                <li><a href="#item2">Propriedades</a>
                    <ol type="A">
                        <li><a href="#item2a">Extensões de arquivo</a></li>
                        <li><a href="#item2b">Tamanho máximo do arquivo</a>
                            <ol type="i">
                                <li><a href="#item2bi">Validação de Tamanho Máximo de Arquivo com configuração PHP</a></li>
                            </ol>
                        </li>
                        <li><a href="#item2c">Unidade de tamanho</a></li>
                    </ol>
                </li>
                <li><a href="#item3">Exemplo de controle de arquivo</a></li>
                <li><a href="#item4">Associando um documento de entrada a um arquivo</a></li>
                <li><a href="#item5">Acessando arquivos com JavaScript</a>
                    <ol type="A">
                        <li><a href="#item5a">Métodos JavaScript</a></li>
                        <li><a href="#item5b">Limpando controles de arquivo</a></li>
                        <li><a href="#item5c">Estrutura de controles de arquivo</a></li>
                    </ol>
                </li>
                <li><a href="#item6">Armazenamento de arquivo</a>
                    <ol type="A">
                        <li><a href="#item6a">Armazenamento de arquivos no banco de dados</a></li>
                        <li><a href="#item6b">Armazenamento Variável</a></li>
                        <li><a href="#item6c">Armazenamento de arquivos em grades</a></li>
                    </ol>
                </li>
                <li><a href="#item7">Acessando arquivos com PHP</a>
                    <ol type="A">
                        <li><a href="#item7a">Link para arquivo</a></li>
                        <li><a href="#item7b">Obtendo informações do arquivo</a></li>
                    </ol>
                </li>      
            </ol>
        </section>
    </aside>

    <section id="principal">

        <article>
            <h1 id="item1">Visão geral</h1>

                <p><span style="color: red">Aviso:</span> a partir do Gestor Express 3.4.0, o controle Arquivo não é mais suportado. Por favor, use o controle Carregador de de Múltiplos Arqjuivos em vez disso.</p>

                <p>Este controle permite que os arquivos sejam carregados em um Formulário Dinâmico e anexados ao caso atual. Para anexar arquivos, use o botão <strong>Escolher Arquivos</strong> quando esse controle for renderizado. Selecione os arquivos a serem anexados seguindo as instruções fornecidas pelo navegador. Depois de anexados, os arquivos serão listados no campo de controle do Formulário Dinâmico. O ícone deste controle na barra da ferramentas de desenho é o seguinte:</p>

                <figure>

                </figure>

                <p>Ao projetar um Formulário Dinâmico, não é possível fazer upload de nenhum arquivo ou visualizá-lo. Quando o Formulário Dinâmico for renderizado, o usuário final poderá fazer upload e visualizar arquivos usando o campo de controle. Quando o controle Arquivo for adicionado ao Formulário Dinâmico, ele ficará assim:</p>

                <figure>

                </figure>

                <p>Este controle permite que os usuários anexem um arquivo. Ao executar um caso ou visualizar um Formulário Dinâmico, ele é exibido da seguinte forma:</p>

                <figure>

                </figure>

                <p>É possível baixar um arquivo previamente anexado a um Formulário Dinâmico após o envio ou envio do formulário clicando no link do arquivo.</p>
  
                <figure>

                </figure>
              
                <p><span style="color: red">Aviso:</span> Se o sinalizador <a href="#">disable_download_documents_session_validation</a> estiver definido como "0" ou não estiver incluído no arquivo env.ini, o usuário será impedido de fazer o download do arquivo se não for quem fez o upload do arquivo. Portanto, ele precisará de uma permissão de processo de Documento de Entrada para baixar o arquivo.</p>

            <h1 id="item2">Propriedades</h1>

                <p>É possível personalizar a funcionalidade e o comportamento de um controle de arquivo configurando suas propriedades:</p>

                <table class="textbox">
                    <thead>
                        <tr><th>PROPRIEDADES</th><th>DESCRIÇÃO</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Tipo</td><td><code>arquivo</code>(somente leitura) <br></td></tr>
                        <tr><td>Variável</td><td>Clique na opção ... para selecionar uma variável da lista de variáveis disponíveis. Consulte esta seção para saber mais sobre como relacionar uma variável a um controle. <br>
                        O tipo de variável suportado por este controle é o seguinte:
                        <li>Arquivo</li>
                        </td></tr>
                        <tr><td>Tipo de dados da variável</td><td>Após uma variável ter sido relacionada ao controle, esta propriedade mostra o tipo de dado da variável (somente leitura).</td></tr>
                        <tr><td>ID</td><td>[Requeridos] <br>
                        Identificador exclusivo de campo e HTML.</td></tr>
                        <tr><td>Nome</td><td>Nome do campo HTML</td></tr>
                        <tr><td>Rótulo</td><td>A etiqueta do controle</td></tr>
                        <tr><td>Dica</td><td>Usado para mostrar ajuda quando o controle é renderizado (na visualização ou ao executar casos). É mostrado quando o ponteiro do mouse está sobre o ? ícone.</td></tr>
                        <tr><td>Obrigatório</td><td>Ao marcar esta opção, um asterisco é adicionado ao rótulo para indicar que o campo é obrigatório, o que significa que um arquivo deve ser carregado no campo. <br>
                        <span style="color:green">Observação:</span> A propriedade Required apenas valida que existe um arquivo anexado ao controle da web, e não que o usuário atual anexa um novo arquivo.</td></tr>
                        <tr><td>Extensões de arquivo</td><td>Use esta propriedade para definir as extensões de arquivo permitidas. Use uma vírgula para separar todas as extensões que serão habilitadas para o controle. Por exemplo “<code>.jpg</code>, <code>.png</code>, <code>.pdf</code>” <br>
                        Se esta propriedade não for definida, qualquer extensão de arquivo será permitida.</td></tr>
                        <tr><td>Tamanho máximo do arquivo</td><td>Defina o tamanho máximo permitido do arquivo a ser carregado. Por padrão, o tamanho máximo do arquivo é <strong>1024 KB</strong>.</td></tr>
                        <tr><td>Unidade de tamanho</td><td>Defina a unidade (KB ou MB) do tamanho máximo do arquivo.</td></tr>
                        <tr><td>Modo de exibição</td><td>[Requeridos] <br>
                        Modo de exibição: <br>
                        <ul>
                            <li><strong>mestre:</strong> Herda o modo de exibição definido no contêiner pai (form/grade).</li>
                            <li><strong>editar:</strong> O controle é habilitado para edição quando é renderizado.</li>
                            <li><strong>visualizar:</strong> O controle só pode ser visualizado quando é renderizado e o conteúdo não pode ser editado.</li>
                            <li><strong>desativado:</strong> O controle é exibido em cinza para indicar que o modo desabilitado está ativado. O conteúdo também não pode ser editado.</li>
                        </ul>
                        </td></tr>
                    </tbody>
                </table>

            <h2 id="item2a">Extensões de arquivo</h2>

                <p>A propriedade Extensões de Arquivo define as extensões de arquivo que podem ser carregadas no campo:</p>

                <figure>

                </figure>

                <p>As extensões permitidas são definidas no formato <code><span style="color: blue">nomearquivo.extensao</span></code>. Use <code>*</code> (asterisco) como curinga.<code>*</code> sozinho permite todos os tipos de arquivos. Use <code>*.<span style="color: blue">extensao</span></code> para permitir um tipo específico de arquivo, como <code>*.pdf</code> ou <code>*.doc</code>. Para permitir vários tipos de arquivos, separe-os com <code>,</code> (vírgulas). Por exemplo, <code>*.png, *.jpg, *.jpeg, *.tif, *.tiff, *.gif</code> só permite arquivos de imagem.</p>

                <p>Por exemplo, se apenas arquivos PDF puderem ser anexados ao controle de arquivo, defina essa propriedade como <code>*.pdf</code>. Ao executar casos, o controle Arquivo indicará que tipo de arquivo pode ser carregado:</p>

                <figure>

                </figure>

                <p>Se um arquivo chamado <code>ge_ListaParticipantes.pdf</code> for carregado, o controle de arquivos o validará à medida que o formulário dinâmico estiver sendo enviado.</p>

                <figure>

                </figure>

                <p>Se um arquivo com uma extensão diferente for anexado, uma mensagem de erro de validação será exibida:</p>
                
                <figure>

                </figure>

                <p><span style="color:green">Observação:</span> o Gestor Express verificará se os arquivos correspondem à sua extensão e permitirá que apenas determinados tipos de arquivos sejam carregados. Para permitir que mais tipos de extensões de arquivo sejam carregados, consulte <a href="#">Conteúdo compatível e extensões de arquivo</a>.</p>

                <p><span style="text-decoration: underline; font-weight: bold;">Considerações:</span></p>

                <ul>
                    <li><strong>Para campos de arquivo que NÃO são obrigatórios</strong></li>
                    <ul type="disc">
                        <li>Se o campo aceitar todas as extensões de arquivo e nenhum arquivo for anexado ao executar um caso, a validação será aprovada e o formulário poderá ser enviado ou enviado sem restrições.</li>
                        <li>Se o campo aceitar todas as extensões de arquivo e um arquivo for anexado ao executar um caso, a validação passará, a menos que tenha o limite de tamanho, nesse caso outra validação, explicada na próxima propriedade, será avaliada. No entanto, se o campo aceitar apenas alguns tipos de extensões e nenhum arquivo for anexado, a validação será aprovada.</li>
                        <li>Se o campo aceitar apenas alguns tipos de extensões e nenhum arquivo for anexado, a validação será aprovada e o formulário poderá ser enviado ou enviado sem restrições.</li>
                        <li>Se o campo aceitar apenas determinados tipos de extensões e um arquivo for anexado, a validação será aprovada, a menos que o usuário anexe um arquivo com uma extensão inválida. Nesse caso, uma mensagem é exibida com um aviso que indica que a extensão do arquivo não é suportada. No entanto, se o campo aceitar apenas alguns tipos de extensões e nenhum arquivo for anexado, a validação será aprovada.</li>
                    </ul>
                    <li><strong>Para campos de arquivo obrigatórios</strong></li>
                    <ul type="disc">
                        <li>Se o campo aceitar todas as extensões de arquivo e nenhum arquivo for anexado, a validação FALHA porque o campo é obrigatório e o formulário NÃO pode ser enviado ou enviado.</li>
                        <li>Se o campo aceitar todas as extensões de arquivo e um arquivo com uma dessas extensões estiver anexado, a validação PASSA a menos que tenha um limite de tamanho; nesse caso, outra validação, explicada na próxima propriedade, é avaliada.</li>
                        <li>Se o campo aceitar apenas alguns tipos de extensões e nenhum arquivo for anexado, a validação FALHA porque o campo é obrigatório e o formulário NÃO pode ser enviado ou submetido.</li>
                        <li>Se o campo aceitar apenas alguns tipos de extensões e um arquivo com a extensão correta for anexado, a validação será aprovada, a menos que o usuário anexe um arquivo com uma extensão inválida. Nesse caso, uma mensagem é exibida com um aviso que indica que a extensão do arquivo não é suportada. Nesse caso, o formulário NÃO pode ser enviado até que um arquivo válido seja anexado.</li>
                    </ul>
                    <li><strong>Caso especial</strong></li>
                    <ul type="disc">
                        <li>Ao executar casos, se um arquivo for anexado a um campo obrigatório e o formulário for enviado para a próxima etapa, mas o usuário voltar à etapa anterior, o arquivo será mostrado como um link sob o botão de anexo do campo do arquivo. Não será necessário anexar outro arquivo, pois o arquivo anexado anterior ainda contará para o campo obrigatório, de modo que o formulário pode ser submetido ou enviado sem nenhuma restrição.</li>
                    </ul>
                    <li><strong>Campo de arquivo em uma grid</strong></li>
                    <ul type="disc">
                        <li>Os arquivos em grades têm as mesmas considerações explicadas acima, mas nos casos em que a grade não está associada a uma variável e um arquivo válido é anexado e enviado, os novos dados não são adicionados ao banco de dados. Isso ocorre porque a grade DEVE ter uma variável associada para salvar corretamente os dados.</li>
                    </ul>
                </ul>

            <h2 id="item2b">Tamanho máximo do arquivo</h2>

                <p>Esta propriedade define o tamanho máximo permitido de arquivos carregados. Por padrão, essa propriedade é definida como 1024 KB. Para definir esta propriedade, insira um número positivo maior que zero:</p>

                <figure>

                </figure>

                <p>Deixe o campo em branco para permitir que o tamanho do arquivo seja ilimitado.</p>

                <p>Ao executar um caso, o campo de arquivo validará o tamanho do arquivo antes de anexá-lo ao campo. Caso o tamanho do arquivo ultrapasse o tamanho definido nesta propriedade, uma mensagem é exibida e o arquivo não é anexado ao campo:</p>

                <figure>

                </figure>

                <p><span style="text-decoration: underline; font-weight: bold;">Considerações:</span></p>

                <ul>
                    <li><strong>Para campos de arquivo que NÃO são obrigatórios</strong></li>
                    <ul type="disc">
                        <li>Se a validação do limite de tamanho máximo do arquivo anexado FALHAR, o arquivo não será anexado ao campo. No entanto, como o campo não é obrigatório, o formulário pode ser submetido ou enviado.</p>
                    </ul>
                    <li><strong>Para campos de arquivo obrigatórios</strong></li>
                    <ul type="disc">
                        <li>Se a validação do limite de tamanho máximo do arquivo anexado FALHAR, o arquivo não será anexado ao campo e o formulário NÃO PODERÁ ser enviado ou enviado.</li>
                    </ul>
                    <li><strong>Caso especial</strong></li>
                    <ul type="disc">
                        <li>Ao executar casos, se um arquivo for anexado a um campo obrigatório e o formulário for enviado para a próxima etapa, mas o usuário voltar à etapa anterior, o arquivo enviado será mostrado como um link sob o botão de anexo do campo de arquivo. Não será necessário anexar outro arquivo, pois o arquivo anexado anterior ainda contará para o campo obrigatório, de modo que o formulário pode ser submetido ou enviado sem nenhuma restrição.</li>
                    </ul>
                    <li><strong>Campo de arquivo em uma grade</strong></li>
                    <ul type="disc">
                        <li>Os arquivos em grades têm as mesmas considerações explicadas acima, mas nos casos em que a grade não está associada a uma variável e um arquivo válido é anexado e enviado, os novos dados não são adicionados ao banco de dados. Isso ocorre porque a grade DEVE ter uma variável associada para salvar corretamente os dados.</li>
                    </ul>
                </ul>

            <h2 id="item2bi">Validação de Tamanho Máximo de Arquivo com configuração PHP</h2>

                <p>A propriedade Tamanho Máximo de Arquivo valida de acordo com as configurações <code>post_max_size</code> e <code>upload_max_filesize</code> no arquivo <a href="#">php.ini</a>. Leve em conta as seguintes considerações ao validar o tamanho máximo do arquivo em controles de arquivo:</p>

                <ul>
                    <li>As configurações <code>post_max_size</code> e <code>upload_max_filesize</code> no arquivo <a href="#">php.ini</a> devem ser respeitadas. Isso significa que nenhuma configuração deve substituir esses parâmetros para aceitar arquivos maiores.</li>
                    <li>A validação aplica o menor valor entre o Tamanho Máximo de Arquivo do controle e os valores do arquivo <a href="#">php.ini</a>.</li>
                    <li>A Ferramenta de Desenho do Formulário Dinâmico valida se o valor da propriedade de controle Tamanho Máximo de Arquivo é maior que os valores no arquivo <a href="#">php.ini</a>. Se os valores forem maiores que os valores em <a href="#">php.ini</a>, o alerta "<strong>O valor máximo deste campo é XX Mbytes</strong>" é exibido. Onde XX é o valor máximo permitido pelo arquivo PHP.
                    
                        <figure>

                        </figure>

                    </li>
                    <li>Os endpoints REST para criar e atualizar um documento de entrada devem retornar o erro correspondente se o tamanho do arquivo for maior que o valor permitido no arquivo PHP.
                         <codeblock>
                            <span style="color: #009900;">&#123;</span><br />
                            &nbsp; <span style="color: #3366CC;">&quot;error&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
                            &nbsp; &nbsp; <span style="color: #3366CC;">&quot;code&quot;</span><span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
                            &nbsp; &nbsp; <span style="color: #3366CC;">&quot;message&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;&quot;</span>O tamanho do arquivo é maior que o máximo permitido<span style="color: #339933;">,</span> o tamanho máximo permitido é XX Mbytes<span style="color: #3366CC;">&quot;&quot;</span><br />
                            &nbsp; <span style="color: #009900;">&#125;</span><br />
                            <span style="color: #009900;">&#125;</span>
                        </codeblock>

                        <p><span style="color: green">Observação:</span> O <code>post_max_size</code> considera o tamanho de todos os arquivos enviados. Portanto, é recomendado que cada arquivo carregado com os controles de arquivo múltiplo e único no formulário não seja maior que o parâmetro <code>post_max_size</code> no arquivo PHP.</p>
                    </li>
                </ul>
            <h2 id="item2c">Unidade de tamanho</h2>

                <p>Esta propriedade define a unidade (KB, MB) do tamanho definido na propriedade Tamanho Máximo de Arquivo.</p>

                <figure>

                </figure>

                <p>Ao executar um caso, o controle validará o tamanho do arquivo antes de anexá-lo ao campo. Se o tamanho do arquivo ultrapassar o tamanho definido neste controle, uma mensagem como a seguinte é mostrada:</p>

                <figure>

                </figure>

            <h1 id="item3">Exemplo de controle de arquivo</h1>

                <p>Para este exemplo, adicione um controle Arquivo ao Formulário Dinâmico arrastando-o e soltando-o na Ferramenta de Desenho do Formulário Dinâmico a partir do painel Controles da Web. Depois que o controle Arquivo for solto no Formulário Dinâmico, o campo de controle ficará como a imagem abaixo:</p>

                <figure>

                </figure>

                <p>Imediatamente após adicionar o controle, aparecerá a janela Criar Variável, onde pode ser criada uma variável ou selecionada uma variável criada anteriormente para armazenar as informações inseridas no campo de controle pelo usuário final. Uma variável também pode ser criada usando a interface de variáveis clicando no botão Variáveis. Para este exemplo, uma nova variável será criada, portanto, selecione a opção <strong>Criar variável</strong>. Mantenha o nome da variável como "Arquivovar", mas esse nome pode ser alterado simplesmente apagando esse nome e adicionando um novo. <strong>Clique na opção Configurações</strong> sublinhada para exibir mais configurações para a variável.</p>
                
                <figure>

                </figure>
                
                <p>O controle Arquivo tem apenas duas configurações: Tipo e Documento de entrada (campo obrigatório). A configuração Tipo tem apenas uma opção, "Arquivo". Para a configuração Documento de entrada, um documento de entrada deve ser escolhido. Para saber como criar um documento de entrada, leia esta <a href="#">documentação</a>. Para adicionar um documento de entrada, basta clicar nas reticências sublinhadas, como pode ser visto na imagem abaixo.</p>

                <figure>

                </figure>
                
                <p>Uma nova janela de Documentos de Entrada dentro da janela Criar Variável aparecerá. Selecione um documento de entrada da lista clicando nele. Em seguida, na janela Criar variável, clique no botão <strong>Gravar</strong> para finalizar esta configuração.</p>
                
                <figure>

                </figure>
                
                <p>Clique no espaço vazio do controle e suas propriedades serão exibidas no painel do lado esquerdo.</p>
                
                <figure>

                </figure>
                
                <p>Outra forma de adicionar uma variável é saindo da janela Criar Variável e nas propriedades, clique nas reticências sublinhadas ao lado da propriedade Variável conforme mostrado na imagem.</p>
                
                <figure>

                </figure>
                
                <p>A janela Criar variável aparecerá, onde uma variável pode ser criada selecionando o botão de opção "Criar variável" ou escolhida de uma lista de variáveis existentes selecionando o botão de opção "Selecionar variável". Uma vez que uma variável é escolhida, o tipo de dados da variável e as propriedades id terão o mesmo nome da variável adicionada.</p>
                
                <figure>

                </figure>
                
                <p>Agora, a propriedade id pode ser usada com código JavaScript. Para adicionar código JavaScript à variável, clique na borda cinza clara do Formulário Dinâmico (que é o espaço fora dos controles) para exibir as propriedades do Formulário Dinâmico. Quando as propriedades forem exibidas, localize a propriedade javascript e clique no botão <strong>editar</strong>... para abrir o editor.</p>
                
                <figure>

                </figure>
                
                <p>No editor JavaScript, adicione o código que define o rótulo do controle. Leia esta <a href="#">seção</a> para obter mais informações. Para este exemplo, adicione o seguinte código:</p>

                <codeblock>
                    jQuery<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#fileVar&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">setLabel</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;Gestor Express&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                </codeblock>

                <figure>

                </figure>

                <p>Quando o controle for renderizado, o rótulo será então definido como "Gestor Express", como pode ser visto na imagem abaixo.</p>

                <figure>

                </figure>

                <p>A propriedade a seguir é a propriedade Nome, que é o nome do campo HTML. Por padrão, a propriedade name é igual ao ID. Quando o ID é alterado pelo usuário, o nome não muda e mantém sua configuração original. O nome também pode ser alterado inserindo um novo valor na propriedade.</p>
                
                <figure>

                </figure>

                <p>Continuando, a propriedade rótulo altera o rótulo do controle exibido no Formulário Dinâmico. Adicione um rótulo, como "Carregar um arquivo:", para rotular o controle no formulário dinâmico.</p>
                  
                <figure>

                </figure>

                <p>A propriedade Dica é usada para mostrar ajuda quando o controle é renderizado. Para este exemplo, adicione a seguinte frase à propriedade: "Selecione um arquivo para carregar". Quando o controle estiver renderizado, passe o ponteiro do mouse sobre o ícone (i) para mostrar a dica adicionada.</p>
  
                <figure>

                </figure>

                <p>Para a propriedade Obrigatória há apenas uma caixa de seleção disponível. Quando marcado, um asterisco é adicionado ao lado do campo de controle para indicar que o campo é obrigatório e o usuário não poderá enviar o formulário até que o campo seja preenchido corretamente.</p>
                  
                <figure>

                </figure>

                <p>A propriedade de extensões de arquivo valida as extensões dos arquivos carregados no controle. Para este exemplo adicione ".doc ", isso significa que o controle não aceitará outras extensões além daquela especificada nesta propriedade.</p>
                  
                <figure>

                </figure>

                <p>Agora, as propriedades do tamanho máximo do arquivo e da unidade de tamanho determinarão o Tamanho Máximo de Arquivo permitido e definirão a unidade de tamanho (KB, MB) do arquivo carregado.</p>
                  
                <figure>

                </figure>

                <p>Finalmente, o controle do modo de exibição terá efeitos diferentes ao renderizar um formulário dinâmico. Use a ilustração abaixo como guia para a funcionalidade da propriedade.</p>
                  
                <figure>

                </figure>

                <p><font color="red">Mestre</font></p>
                    
                <figure>

                </figure>

                <p><font color="red">Editar</font></p>
            
                <figure>

                </figure>

                <p><font color="red">Visualizar</font></p>
            
                <figure>

                </figure>

                <p><font color="red">Desativado</font></p>
            
                <figure>

                </figure>

                <p><span style="color: green">Observação:</span> O gerenciamento de arquivos é diferente no sistema iOS móvel. Para saber mais sobre como fazer upload de arquivos em um controle de arquivo, consulte Arquivos no iOS.</p>

            <h1 id="item4">Associando um documento de entrada a um arquivo</h1>

                <p>É possível associar um documento de entrada a um campo de arquivo dentro de um formulário dinâmico usando uma variável de arquivo. Isso significa que os arquivos carregados em um campo de arquivo em um formulário dinâmico podem ser exibidos posteriormente em uma etapa de documento de entrada. Uma vantagem de associar um campo de arquivo a um documento de entrada é que a interface do documento de entrada pode ser usada para visualizar todos os arquivos carregados (assim como excluir arquivos e adicionar novas versões se o usuário tiver as <a href="#">permissões de processo</a> adequadas e o controle de versão estiver ativado). Outra vantagem é que em Documentos de Entrada, todos os arquivos carregados possuem tags e são colocados em uma pasta específica em <strong>Início => Documentos</strong>, assim fica mais fácil encontrar os arquivos carregados posteriormente.</p>

                <p>Carregar um arquivo para um documento de entrada por meio de um campo Arquivo em um formulário dinâmico é útil ao carregar apenas um arquivo para um documento de entrada. Para garantir que o usuário carregue um arquivo para um Documento de Entrada, torne o campo Arquivo obrigatório. Não é possível associar campos de Arquivo em uma grade a um Documento de Entrada, pois os campos dentro de grades não possuem variável. Para carregar mais de um arquivo em um Documento de Entrada, uma etapa normal de Documento de Entrada deve ser usada.</p>

                <p>Para associar um Documento de Entrada a um campo Arquivo, é recomendável primeiro <a href="#">criar o Documento de Entrada</a> no projeto. Em seguida, crie a variável que será relacionada ao controle Arquivo. Para fazer isso, vá para a caixa de ferramentas Objetos do Processo e passe o ponteiro do mouse sobre o ícone + ao lado da opção Variáveis. Clique em Criar. Na janela que se abre, digite o nome da variável no campo Nome da variável e selecione a opção "Arquivo" no menu suspenso no campo Tipo de variável.(Consulte <a href="#">Definindo variáveis</a>).</p>

                <figure>

                </figure>

                <p>Associe a variável ao documento de entrada criado anteriormente no campo Documento de Entrada relacionado selecionando-o na caixa suspensa ou criando um novo documento de entrada.</p>

                <figure>

                </figure>

                <p>Para editar o Documento de Entrada selecionado no campo Documento de Entrada Relacionado, clique no botão <strong>Editar</strong>.</p>

                <p>Após criar a variável Arquivo, abra um Formulário Dinâmico onde será colocado o controle Arquivo. Adicione um campo Arquivo ao desenho e clique nele para ver suas propriedades. Vá para a propriedade Variável e clique no botão <code><span style="text-decoration: underline;">...</span></code>.</p>

                <figure>

                </figure>

                <p>Selecione a variável Arquivo que será associada ao controle Arquivo na lista de variáveis Arquivo disponíveis.</p>
                
                <figure>

                </figure>

                <p>Após selecionar a variável, o Documento de Entrada será associado ao controle.</p>

                <p>Após associar a variável Arquivo ao controle, as propriedades Extensões de Arquivo, <strong>Tamanho Máximo de Arquivo</strong> e <strong>Unidade de Tamanho</strong> serão desabilitadas. Essas propriedades são definidas automaticamente para as <a href="#">configurações do documento de entrada</a>. Certifique-se de definir um Tamanho Máximo de Arquivo maior que zero para o documento de entrada.</p>
                
                <p><span style="color: green">Observação:</span> campos do arquivo não respeitam a configuração feita no PATH do Documento de Entrada. Esta consideração será resolvida em versões futuras.</p>
                
                <p><span style="color: green">Atenção:</span> A propriedade nome do campo Arquivo deve ter o mesmo nome da variável associada ao campo. Se forem diferentes, os arquivos carregados não serão associados ao Documento de Entrada e serão tratados como arquivos anexados normais.</p>

            <h1 id="item5">Acessando arquivos com JavaScript</h1>
                
                <p>Para aprender a manipular controles Formulário Dinâmico usando JavaScript, consulte JavaScript em Formulários Dinâmicos.</p>

                <p>Os arquivos no Gestor Express têm os seguintes componentes de campo:</p>

                <ul>
                    <li><strong>Rótulo:</strong> O texto exibido acima ou à esquerda do campo no Formulário Dinâmico que o identifica.</li>
                    <li><strong>Valor:</strong> O nome de arquivo do último arquivo selecionado no controle de arquivo.</li>
                    <li><strong>Texto:</strong> Uma matriz do(s) nome(s) de arquivo no controle de arquivo.</li>
                </ul>

            <h2 id="item5a">Métodos JavaScript</h2>
            
                <p>Alguns dos métodos JavaScript usados para manipular campos de arquivo incluem:</p>

                <table class="textbox">
                    <thead>
                        <tr><th>Método</th><th>Descrição</th></tr>
                    <t/head>
                    <tbody>
                        <tr><td><a href="#">jQuery("#fieldID")</a>.<code><a href="#">getValue</a></code>()</td><td>Retorna o nome de arquivo do último arquivo selecionado no controle de arquivo ou o último arquivo adicionado ao documento de entrada associado se nenhum arquivo tiver sido selecionado.</td></tr>
                        <tr><td><a href="#">jQuery("#fieldID")</a>.<code><a href="#">getText</a></code>()</td><td>Retorna uma matriz de nomes de arquivos de arquivos que foram adicionados anteriormente ao Documento de entrada associado ao controle de arquivo, mais o nome de arquivo do último arquivo selecionado no controle de arquivo (se houver). Os nomes dos arquivos estão na ordem em que os arquivos foram adicionados. Lembre-se de que apenas um arquivo pode ser adicionado usando o controle de arquivos, mas vários arquivos podem ser adicionados ao documento de entrada.</td></tr>
                        <tr><td><a href="#">jQuery("#fieldID")</a>.<code><a href="#">getLabel</a></code>()</td><td>Retorna o rótulo do campo, que é o texto exibido acima ou à esquerda do campo no Formulário Dinâmico para identificá-lo.</td></tr>
                        <tr><td><a href="#">jQuery("#fieldID")</a>.<code><a href="#">setLabel</a></code>("novorotulo")</td><td>Define o rótulo do campo, que é o texto exibido acima ou à esquerda do campo no Formulário Dinâmico para identificá-lo.</td></tr>
                        <tr><td><a href="#">jQuery("#fieldID")</a>.<code><a href="#">clear()</a></code></td><td>Exclui o arquivo selecionado/carregado em um controle de arquivo.</td></tr>
                    </tbody>
                </table>
            
                <p><span style="color: green">Observação:</span> Os métodos <a href="#">setValue()</a> e <a href="#">setText()</a> existem para controles de arquivos, mas não têm nenhum efeito, pois os arquivos só podem ser selecionados manualmente pelo usuário.</p>

                <p>Para ver exemplos de código para esses métodos, consulte Funções e métodos JavaScript.</p>

            <h2 id="item5b">Limpando controles de arquivo</h2>
            
                <p>O arquivo selecionado em um controle de arquivo não pode ser definido usando JavaScript, pois isso requer ação do usuário. No entanto, é possível usar JavaScript para limpar o arquivo selecionado em um controle de arquivo.</p>

                <p>Para remover o arquivo selecionado, use a função <a href="#">file.clear()</a>.</p>

                <p>Por exemplo, se o usuário clicar no botão com o ID "LimpaArquivo", a função .clear() excluirá o arquivo carregado/selecionado no controle.</p>

                <codeblock>
                    $<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#LimpaArquivo&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">find</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;botão&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">click</span><span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
                    &nbsp; &nbsp; $<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#ArquivoID&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">clear</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
                    <span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                </codeblock>

            <h2 id="item5c">Estrutura de controles de arquivo</h2>

                <p>Um controle de arquivo consiste em:</p>

                <ul>
                    <li>Um &lsaquo;botão&rsaquo; visível que está dentro de uma tag DIV com o ID do controle de arquivo que é clicado para selecionar um arquivo a ser carregado. Depois que um arquivo é selecionado, o nome do arquivo selecionado é exibido neste botão.</li>
                    <li>Um campo de arquivo oculto com o ID <code>"form[id]"</code>, onde o arquivo selecionado é armazenado temporariamente.</li>
                    <li>Um campo de entrada oculto com o ID <code>"form[id_label]"</code>, que contém uma matriz dos arquivos que foram carregados anteriormente no Documento de entrada associado ao controle de arquivo, além do último arquivo selecionado com o controle de arquivo.</li>
                </ul>

                <p>Por exemplo, um controle de arquivo com o ID "recibos" pode ter a seguinte estrutura HTML:</p>

                <codeblock>
                    <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;recibos&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;campo-recibos&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;pmdynaform-field-file &nbsp;form-group col-sm-12 col-md-12 col-lg-12 &nbsp;pmdynaform-edit-file pmdynaform-field&quot;</span>&gt;</span><br />
                    &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">label</span></a> <span style="color: #000066;">for</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;recibos&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;col-md-2 col-lg-2 control-label pmdynaform-label&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">span</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;textlabel&quot;</span>&gt;</span>recibos<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">span</span></a>&gt;</span><br />
                    &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">label</span></a>&gt;</span><br />
                    &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;pmdynaform-file-control col-md-10 col-lg-10 pmdynaform-field-control&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;pmdynaform-file-container col-xs-12 col-sm-12 col-md-12 col-lg-12&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;pmdynaform-file-btn-container&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">button</span></a> <span style="color: #000066;">title</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;receipt_2015-02-25.doc&quot;</span> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;button&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;pmdynaform-control-file form-control&quot;</span>&gt;</span>receipt_2015-02-25.doc<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">button</span></a>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;form[recibos]&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;form[recibos]&quot;</span> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;visibility:hidden;&quot;</span> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;file&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;[&amp;quot;lunchReceipt_2015-02-25.jpg&amp;quot;]&quot;</span> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;form[recibos_rótulo]&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;form[recibos_rótulo]&quot;</span> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;hidden&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;button-all&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;btn-group btn-group-justified&quot;</span> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;display: none;&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;pmdynaform-file-buttonup btn-group&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">button</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;glyphicon glyphicon-upload btn btn-success btn-sm&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; All<br />
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">button</span></a>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;pmdynaform-file-buttoncancel btn-group&quot;</span> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;display: none;&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">button</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;glyphicon glyphicon-remove btn btn-danger btn-sm&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; All<br />
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">button</span></a>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;pmdynaform-file-buttonremove btn-group&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">button</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;glyphicon glyphicon-trash btn btn-danger btn-sm&quot;</span>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; All<br />
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">button</span></a>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
                    &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
                    &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;pmdynaform-file-list&quot;</span> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;display:none&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
                    &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
                    &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
                    <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span>
                </codeblock>

                <p>O usuário interage com o botão visível, que não possui um ID, mas pode ser pesquisado usando sua classe "pmFormulário Dinâmico-control-file". Por exemplo, o código a seguir altera a cor da borda do botão usado pelo controle de arquivo "recibos":</p>

                <codeblock>
                    $<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#recibos&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">find</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;button.pmdynaform-control-file&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">css</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;border&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;1px solid red&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                </codeblock>

                <p>O método <code>setOnchange()</code> não funciona com controles de arquivo, mas o campo de arquivo oculto pode ser usado para definir um manipulador de eventos de alteração. Por exemplo, o seguinte manipulador de eventos verifica se o arquivo enviado corresponde ao padrão <code>recibo_DD-MM-YYYY.doc</code>, para que seu nome de arquivo contenha a data:</p>

                <codeblock>
                    <span style="color: #000066; font-weight: bold;">function</span> checkFilename<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
                    &nbsp; &nbsp; <span style="color: #006600; font-style: italic;">//se o nome do arquivo não corresponder a &quot;recibo_DD-MM-YYYY.doc&quot;:</span><br />
                    &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">var</span> n <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">value</span>.<span style="color: #660066;">search</span><span style="color: #009900;">&#40;</span><span style="color: #009966; font-style: italic;">/recibo_20[0-9][0-9]-[0-1][0-9]-[0-2][0-9]\.doc$/g</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
                    &nbsp; &nbsp; alert <span style="color: #009900;">&#40;</span>n<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>n <span style="color: #339933;">===</span> <span style="color: #339933;">-</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; alert<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;Renomeie o arquivo '&quot;</span> <span style="color: #339933;">+</span> <span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">&quot;' para corresponder ao padrão 'recibo_DD-MM-YYYY.doc' e faça o upload novamente.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
                    &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
                    <span style="color: #009900;">&#125;</span><br />
                    $<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#recibo&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">find</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'input[type=file]'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">change</span><span style="color: #009900;">&#40;</span>checkFilename<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                </codeblock>

            <h1 id="item6">Armazenamento de arquivo</h1>
                
                <p>Quando um arquivo é carregado em um campo de arquivo durante a execução de um caso, ele é armazenado no sistema de arquivos do servidor Gestor Express. Ele é renomeado com seu ID exclusivo para o documento do caso e seu número de versão, mas mantém sua extensão original.</p>

                <p>Os arquivos são armazenados no seguinte local no servidor:</p>

                <p>&nbsp; &nbsp; <tt><a href="#"><i>INSTALL-DIRECTORY</i></a>/shared/sites/<code><font color=green><i>WORKSPACE</i></font></code>/files/<code><font color=green><i>XXX</i></font>/<font color=green><i>XXX</i></font>/<font color=green><i>XXX</i></font>/<font color=green><i>XXXXXXXXXXXXXXXXXXXXXXX</i></font></code>/<code><font color=green><i>CASE-DOCUMENT-UID</i></font></code>_<code><font color=green><i>VERSION</i></font></code>.<code><font color=green><i>EXT</i></font></code></tt></p></p>

                <p>Onde:</p>
                
                <ul>
                    <li><code><font color=green><i>WORKSPACE</i></font></code> é o nome do espaço de trabalho, que é denominado "workflow" por padrão e pode ser especificado com a variável do sistema <code>@@SYS_SYS</code> em um gatilho.</li>
                    <li><code><font color=green><i>XXX</i></font>/<font color=green><i>XXX</i></font>/<font color=green><i>XXX</i></font>/<font color=green><i>XXXXXXXXXXXXXXXXXXXXXXX</i></font></code> representa o ID exclusivo do caso. Por padrão, isso é dividido em uma série de 4 subdiretórios para evitar os limite de 32K do arquivos de sistema ext3 do Linux, mas pode ser um único diretório se estiver usando um espaço de trabalho atualizado do Gestor Express. Em um gatilho, o ID do caso atual é armazenado na variável de sistema @@APPLICATION ou pode ser consultado nos campos <strong>APPLICATION.APP_UID</strong>, <strong>APP_CACHE_VIEW.APP_UID</strong> ou <strong>APP_DOCUMENT.APP_UID</strong> no banco de dados. O método <a href="#">G::getPathFromUID()</a> pode ser usado em um gatilho para gerar automaticamente o caminho correto a partir do ID do caso.</p>
                    <li><code><font color=green><i>CASE-DOCUMENT-UID</i></font></code> é o ID exclusivo do documento do caso, que é armazenado no campo <strong>APP_DOCUMENT.APP_DOC_UID</strong> no banco de dados.</li>
                    <li><code><font color=green><i>VERSION</i></font></code> é o número da versão do documento e é sempre definido como 1, exceto quando o campo de arquivo está associado a um documento de entrada que tenha ativado o controle de versão e o usuário tenha carregado uma nova versão do arquivo (cujos campos de campo não permitem). A nova versão pode ser encontrada no campo <strong>APP_DOCUMENT.DOC_VERSION</strong> no banco de dados.</li>
                    <li><code><font color=green><i>EXT</i></font></code> é a extensão do arquivo carregado, como <code>doc</code> ou <code>jpg</code>. A extensão do arquivo pode ser encontrada usando o método <a href="#">AppDocument::Load()</a> ou procurando o nome do arquivo carregado com a seguinte consulta de banco de dados:
                    <codeblock>
                        SELECT APP_DOC_FILENAME AS FILENAME FROM APP_DOCUMENT WHERE APP_DOC_UID='<font color=green><i>CASE-UID</i></font>'
                    </codeblock>

                    </li>
                </ul>

                <p><strong>Exemplo de caminho no Linux/UNIX:</strong></p>

                <p><span style="font-family: IBM Plex Mono; font-size: 1rem;">/opt/gestorexpress/shared/sites/workflow/files/905/262/500/57158b1b439014072150115/74863719957158b39af56d2076904431_1.png</span></p>

                <p><strong>Exemplo de caminho no Windows:</strong></p>
                
                <p><span style="font-family: IBM Plex Mono; font-size: 1rem;">C:\user\bob\AppData\Roaming\gestorexpress\gestorexpress\shared\sites\workflow\files\905\262\500\57158b1b439014072150115\74863719957158b39af56d2076904431_1.png</span></p>
                
                <p>Em um gatilho, o caminho para um arquivo pode ser determinado usando as constantes definidas <code>PATH_DOCUMENT</code>(que contém um caminho como <code>"/opt/gestorexpress/shared/sites/workflow/files/"</code>) e <code>PATH_SEP</code> (que é <code>"/"</code> ou <code>"\"</code> dependendo do sistema operacional).</p>

                <p>Por exemplo, o código de gatilho a seguir gera o mesmo caminho dos exemplos acima:</p>

                <codeblock>
                    <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
                    <span style="color: #000088;">$path</span> <span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'90526250057158b1b439014072150115'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">'74863719957158b39af56d2076904431_1.png'</span><span style="color: #339933;">;</span>
                </codeblock>

            <h2 id="item6a">Armazenamento de arquivos no banco de dados</h2>

                    <p>Quando um formulário dinâmico que contém um campo de arquivo é enviado, um novo registro é criado para o arquivo carregado na tabela <strong>APP_DOCUMENT</strong> no banco de dados, que contém os seguintes campos:</p>

                <ul>
                    <li><code><strong>APP_DOC_UID:</strong></code> o ID exclusivo do documento do caso, que identifica o arquivo carregado.</li>
                    <li><code><strong>APP_DOC_FILENAME:</strong></code> O nome do arquivo do documento do caso.</li>
                    <li><code><strong>APP_DOC_TITLE:</strong></code> o título do documento do caso.</li>
                    <li><code><strong>APP_DOC_COMMENT:</strong></code> O comentário do documento do caso.</li>
                    <li><code><strong>DOC_VERSION:</strong></code> a versão do arquivo de documento do caso, que é um número inteiro contando a versão a partir de <code>1</code>. Só pode ser maior do que <code>1</code>, se o arquivo estiver associado a uma variável para um Documento de Entrada que tenha o controle de versão habilitado.</li>
                    <li><code><strong>APP_UID:</strong></code> o ID exclusivo do caso em que o arquivo foi carregado.</li>
                    <li><code><strong>DEL_INDEX:</strong></code> o índice de delegação da tarefa no caso em que o arquivo foi carregado.</li>
                    <li><code><strong>DOC_UID:</strong></code> O ID exclusivo do Documento de Entrada que contém o arquivo, se o campo do arquivo estiver associado a um Documento de Entrada. Se o arquivo não estiver associado a um documento de entrada, ele será definido como <code>'-1'</code>.</li>
                    <li><code><strong>USR_UID:</strong></code> o ID exclusivo do usuário que carregou o arquivo.</li>
                    <li><code><strong>APP_DOC_TYPE:</strong></code> O tipo de documento de caso, que é <code>'ANEXO'</code> se o campo de arquivo não estiver associado a um Documento de Entrada ou <code>'INPUT'</code> se estiver associado a um Documento de Entrada.</li>
                    <li><code><strong>APP_DOC_CREATE_DATE:</strong></code> A data e hora no formato <code>'DD-MM-YYYY HH:MM:SS'</code> em que o arquivo foi carregado.</li>
                    <li><code><strong>APP_DOC_INDEX:</strong></code> o índice do documento do arquivo, que conta a ordem pela qual os arquivos são adicionados a um caso, independentemente de ser um arquivo de documento de entrada, arquivo de documento de saída ou anexado em um campo de arquivo. O primeiro arquivo é <code>1</code>, o segundo arquivo é <code>2</code>, etc.</li>
                    <li><code><strong>FOLDER_UID:</strong></code> O ID exclusivo da pasta onde o arquivo está localizado na interface em <strong>Início => Documentos</strong>. Se o campo de arquivo não estiver associado a um Documento de Entrada ou o Documento de Entrada não tiver uma pasta especificada, esse campo será definido como <code>''</code> (string vazia).</li>
                    <li><code><strong>APP_DOC_PLUGIN:</strong></code> Sempre defina como <code>''</code> (string vazia) se não estiver usando um plug-in para gerenciar os arquivos.</li>
                    <li><code><strong>APP_DOC_TAGS:</strong></code> se o campo de arquivo estiver associado a um documento de entrada, esse campo conterá as tags do documento de entrada, separadas por vírgulas. Por padrão, todos os Documentos de Entrada têm a tag de <code>'INPUT'</code>, mas outras tags personalizadas podem ser definidas. Se o campo de arquivo não estiver associado a um documento de entrada, esse campo será definido como <code>NULL</code>.</li>
                    <li><code><strong>APP_DOC_STATUS:</strong></code> O status do arquivo, que é 'ATIVO' ou 'DELETADO'. Observe que os campos de arquivo não fornecem uma maneira de excluir arquivos enviados, mas o arquivo pode ser excluído por um usuário que tenha a permissão <a href="#">PM_FOLDERS_ADD_FILE</a> em sua função. Ele também pode ser excluído se o campo de arquivo estiver associado a um documento de entrada que seja uma etapa da tarefa e o usuário tiver recebido Permissões de processo para excluir arquivos no documento de entrada.</li>
                    <li><code><strong>APP_DOC_STATUS_DATE:</strong></code> Sempre definido como <code>NULL</code>.</li>
                    <li><code><strong>APP_DOC_FIELDNAME:</strong></code> O nome (não seu id ) do campo de arquivo onde o arquivo foi carregado. Se carregado em um campo de arquivo em uma grade, ele será definido como <code><font color="green">'grid-variable_row-number_file-field-name'</font></code>. Por exemplo, um valor de <code>'listaCliente_2_arquivoContrato'</code>, significa que o arquivo foi carregado na segunda linha de uma grade cuja variável é "listaCliente" e cujo campo de arquivo tem o nome "arquivoContrato". Se o arquivo foi carregado em uma etapa de Documento de entrada (não em um campo de arquivo), ele será definido como <code>NULL</code>.</li>

                    <li><code><strong>APP_DOC_DRIVE_DOWNLOAD:</strong></code> o ID seriado do arquivo carregado quando o Gestor Express é sincronizado com o Google Drive. Se o arquivo enviado não estiver sincronizado com o Google Drive, este campo será sempre definido como <code>'a:0:{}'</code>.</li>
                </ul>
                
                <p>Além disso, os registros que contêm informações sobre o arquivo carregado são adicionados à tabela APP_DOCUMENT.</p>
                
                <p>Por exemplo, o banco de dados contém as seguintes informações sobre um arquivo carregado com o ID exclusivo '74863719957158b39af56d2076904431':</p>
                
                <codeblock>
                    mysql> <b>SELECT APP_DOC_FILENAME, APP_DOC_TITLE, APP_DOC_COMMENT, APP_DOC_CREATE_DATE, APP_DOC_TYPE de APP_DOCUMENT onde APP_DOC_UID='74863719957158b39af56d2076904431';</b>
                    +------------------+---------------+------------------------+---------------------+---------------+
                    | APP_DOC_FILENAME | APP_DOC_TITLE | APP_DOC_COMMENT        | APP_DOC_CREATE_DATE | APP_DOC_TYPE  |
                    +------------------+---------------+------------------------+---------------------+---------------+
                    | resume.png       | Retomar       | Este comentário é para currículo | 2019-11-28 18:36:06 | ANEXO      |
                    +------------------+---------------+------------------------+---------------------+---------------+
                    3 rows in set (0.00 sec)
                </codeblock>
                
                <p>O nome do arquivo carregado é encontrado no campo <code>APP_DOC_FILENAME</code>. Os campos de arquivo não permitem que o usuário adicione um comentário ao fazer upload de um arquivo, mas a interface para Documentos de entrada permite que o usuário adicione um comentário sobre um arquivo enviado.</p>
                
            <p>Armazenamento Variável</p>

                <p>Quando um formulário dinâmico contendo um campo de arquivo é enviado, uma variável de caso chamada será criada. Lembre-se de que o nome da variável case é baseado no nome do campo de campo, não em seu ID e não em sua variável associada. A variável case será criada quando o Formulário Dinâmico for submetido, mesmo que o campo de arquivo não tenha nenhum arquivo selecionado para upload. O campo de arquivo não precisa ser associado a uma variável de arquivo. Na verdade, nenhuma variável de caso é criada para variáveis de arquivo ao executar casos.@@file-field-name_label</p>
                <p>A variável case conterá uma string JSON que contém uma matriz com o nome do arquivo selecionado dentro de: Se nenhum arquivo foi selecionado, a string JSON será uma matriz vazia: Na versão 3.0.1.6 e anteriores, os campos de arquivo eram capazes de exibindo vários arquivos, para que a matriz possa conter vários nomes de arquivos. Na versão 3.0.1.7 e posterior, os campos de arquivo são capazes de exibir apenas um único arquivo, portanto, o array conterá apenas um nome de arquivo. A função json_decode() pode ser usada para converter a string em um array e obter o nome do arquivo dentro do array.@@file-field-name_label'["filename"]'</p>
                <p>'[]'</p>
                <p>Por exemplo, se um campo de arquivo tiver o nome "receiptFile" e um arquivo chamado "monthlyReport.doc" for selecionado, sua variável case será nomeada @@receiptFile_labele conterá o array '["monthlyReport.doc"]'. O seguinte código de gatilho pode ser usado para obter o nome do arquivo selecionado:</p>
                <p>$aReceipt = json_decode ( @@ reciboFile_label ) ;</p>
                <p>$filename = vazio ( $aReceipt ) ? '': $aRecibo [ 0 ] ;</p>
                <p>Quando um controle de arquivo em um formulário dinâmico é enviado, o ID exclusivo do arquivo carregado é colocado em uma matriz e convertido em uma string JSON, que é armazenada na variável associada ao campo de arquivo. Por exemplo, se o controle de arquivo estiver associado @@contractFilee o usuário fizer upload de um arquivo, a @@contractFilevariável poderá ter um valor como:'["16820977557c7577c2e5c42054010817"]'</p>
                <p>O ID exclusivo do arquivo carregado pode ser obtido com o seguinte código de gatilho:</p>
                <p>if ( isset ( @@ contractFile ) e @@ contractFile != '[]' ) {</p>
                <p>   $fileId = json_decode ( @@ contractFile ) [ 0 ] ;</p>
                <p>}</p>
                <p>Se nenhum arquivo foi selecionado, então @@contractFile_labelserá definido como '[]'e @@contractFileserá indefinido. Para lidar com isso, use isset() para verificar se @@contractFileestá definido antes de tentar acessá-lo.</p>
                <p>Com o ID do arquivo carregado, outras informações sobre o arquivo podem ser consultadas usando o método AppDocument::Load(). Consulte Obtendo informações do arquivo na v.3.0.1.8 e posterior abaixo.</p>
                <p>Armazenamento de arquivos em grades</p>
                <p>Quando um campo de arquivo é colocado em uma grade, um arquivo pode ser selecionado para cada linha na grade para ser carregado quando o formulário dinâmico for enviado. Cada arquivo é armazenado separadamente no sistema de arquivos do servidor e um registro separado é criado para cada arquivo na tabela APP_DOCUMENT. A única diferença de um campo de arquivo normal é que o campo APP_DOCUMENT.APP_DOC_FIELDNAME conterá.'grid-variable_row-number_file-name'</p>
                <p>Por exemplo, uma grade cuja variável é denominada "recibos" é enviada e possui três linhas com um campo de arquivo denominado "arquivo de recibos". As seguintes informações sobre os três arquivos podem ser armazenadas na tabela APP_DOCUMENT:</p>
                <p>mysql> select APP_DOC_UID, DOC_VERSION, APP_UID, DOC_UID, APP_DOC_TYPE, APP_DOC_INDEX, APP_DOC_FIELDNAME from APP_DOCUMENT;</p>
                <p>APP_DOC_UID</p>
                <p>9981562705718050e816959058033346</p>
                <p>9208148915718050e921ba1095027176</p>
                <p>6366198845716e982128ba0053902036</p>
                <p>Nota: Se uma grade contendo um campo de arquivo não tiver uma variável de matriz associada, os arquivos selecionados na grade não serão salvos quando o formulário dinâmico for enviado.</p>
                <p>Infelizmente, o Gestor Express atualmente não salva os nomes dos arquivos selecionados na variável case da grade quando uma grade contendo arquivos é enviada. A única maneira de encontrar os nomes dos arquivos em uma grade é fazer uma pesquisa na tabela APP_DOCUMENT pelo ID do caso e por APP_DOC_FIELDNAME, que contém o nome da variável da grade e o nome do campo de arquivo na grade usada para obtenha o ID do arquivo no campo APP_DOC_UID. Com o ID do arquivo, seu nome de arquivo pode ser encontrado consultando a tabela APP_DOCUMENT ou chamando o método AppDocument::Load().</p>
                <p>O exemplo de gatilho a seguir cria uma matriz dos nomes de arquivo carregados no caso atual para uma grade cuja variável é denominada "clientList" e seu campo de arquivo é denominado "contractFile":</p>
                <p>$caseId    = @@ APLICATIVO ;</p>
                <p>$gridVar   = 'clientList' ;</p>
                <p>$fileField = 'contractFile' ;</p>
                <p>$aArquivos    = array ( ) ;</p>
                <p>$query = "SELECT</p>
                <p>      AD.APP_DOC_FILENAME AS FILENAME,</p>
                <p>      AD.*</p>
                <p>      FROM</p>
                <p>      APP_DOCUMENT AD</p>
                <p>      WHERE</p>
                <p>      AD.APP_UID=' $caseId ' AND</p>
                <p>      APP_DOC_FIELDNAME LIKE ' {$gridVar} _%_ {$fileField} ' AND</p>
                <p>      AD.APP_DOC_STATUS = 'ACTIVE'</p>
                <p>      ORDER BY AD.APP_DOC_FIELDNAME" ;</p>
                <p>$results = executeQuery ( $query ) ;</p>
                <p>if ( is_array ( $ resultados ) ) {</p>
                <p>   for ( $ i = 1 ; $i <= contagem ( $ resultados ) ; $i ++ ) {</p>
                <p>  $ aFiles [ ] = $resultados [ $i ] [ 'FILENAME' ] ;</p>
                <p>   }</p>
                <p>}</p>
                <p>Acessando arquivos com PHP</p>
                <p>Link para arquivo</p>
                <p>Se um arquivo foi carregado em um campo Arquivo que não está associado a um Documento de entrada, na próxima vez que o campo Arquivo for exibido em um caso, haverá links abaixo do campo Arquivo para os arquivos que foram carregados anteriormente para o campo. No entanto, o Gestor Express atualmente tem um bug que impede que campos de arquivo associados a documentos de entrada exibam links para arquivos carregados anteriormente.</p>
                <p>O código de disparo pode ser usado para pesquisar um arquivo que foi carregado em um campo Arquivo no banco de dados e construir sua URL para baixá-lo em um campo Link subsequente em um formulário dinâmico. Neste exemplo, o "nome" do campo Arquivo é "receiptFile". O código de gatilho a seguir usa o nome do arquivo carregado na variável @@receiptFile_label para pesquisar o arquivo no banco de dados para que ele possa criar a URL e atribuí-la à variável @@receiptUrl. Ele também procura o nome do arquivo desse arquivo e o atribui à variável @@receiptFilename.</p>
                <p>$arquivoCampo = 'ArquivoRecibo' ; //definir o nome do campo de arquivo</p>
                <p>$aReceipt = json_decode ( @@ reciboFile_label ) ;</p>
                <p>@@ reciboFilename = vazio ( $aReceipt ) ? '': $aRecibo [ 0 ] ;</p>
                <p>@@ reciboUrl = '' ;</p>
                <p>if ( ! empty ( @@ reciboFilename ) ) {</p>
                <p>   $caseId = @@ APPLICATION ;  //ID do caso atual</p>
                <p>   //Use ORDER BY APP_DOC_INDEX DESC para obter o último arquivo carregado no campo File</p>
                <p>   $query = "SELECT APP_DOC_UID, DOC_VERSION FROM APP_DOCUMENT</p>
                <p>  WHERE APP_UID=' $caseId ' AND APP_DOC_FIELDNAME=' $fileField ' AND</p>
                <p>  APP_DOC_STATUS = 'ATIVO' ORDEM POR APP_DOC_INDEX DESC" ;</p>
                <p>   $resultados = executeQuery ( $query ) ou die ( "Erro na consulta: $query " ) ;</p>
                <p>   if ( is_array ( $ resultados ) e contagem ($resultados ) > 0 ) {</p>
                <p>  $g = new G ( ) ;</p>
                <p>  @@ receiveUrl = ( $g -> is_https ( ) ? 'https://': 'http://' ). $_SERVER [ 'HTTP_HOST' ].</p>
                <p>     '/sys'. @@ SYS_SYS. '/'. @@ SYS_LANG. '/'. @@ SYS_SKIN. '/cases/cases_ShowDocument?a='. $resultados[ 1 ] [ 'APP_DOC_UID' ].</p>
                <p>     '&v='. $resultados [ 1 ] [ 'DOC_VERSION' ] ;</p>
                <p>   }</p>
                <p>}</p>
                <p>Defina este gatilho para disparar após o Formulário Dinâmico que contém o campo Arquivo. Em seguida, adicione um campo Link a um formulário dinâmico subsequente. Nas propriedades desse campo de link, defina a propriedade de texto de exibição como @@receiptFilename e a propriedade href como @@receiptUrl.</p>
                <p>Obtendo informações do arquivo</p>
                <p>É muito mais fácil obter informações sobre um arquivo carregado em um controle Arquivo porque é criada uma variável que contém uma matriz com o ID exclusivo do arquivo em uma string JSON. Consulte Armazenamento de Variáveis acima. Este exemplo de gatilho mostra como usar o método AppDocument::Load() para obter informações sobre o arquivo carregado e construir uma URL para baixar o arquivo e o caminho para abrir o arquivo.</p>
                <p>if ( isset ( @@ contractFile ) e @@ contractFile != '[]' ) {</p>
                <p>$fileId = json_decode ( @= contractFile ) [ 0 ] ;</p>
                <p>$d = new AppDocument ( ) ;</p>
                <p>$aFile = $d -> Carregar ( $fileId ) ; //obtém a versão mais recente do arquivo</p>
                <p>$aUser = userInfo ( $aFile [ 'USR_UID' ]) ;</p>
                <p>@@ fileUploader = " {$aUser['firstname']} {$aUser['lastname']} ( {$aUser['username']} )" ;</p>
                <p>@@ nomedoarquivo = $aFile [ 'APP_DOC_FILENAME' ] ;</p>
                <p>@@ fileComment = $aFile [ 'APP_DOC_COMMENT' ] ;</p>
                <p>@@ dateUploaded = $aFile [ 'APP_DOC_CREATE_DATE' ] ;</p>
                <p>//para modelos de e-mail e documento de saída:</p>
                <p>@@ fileUrl   = ( ( !$_SERVER [ 'HTTPS' ] ) && $ _SERVER [ 'HTTPS' ] != 'off' ) ? "https://": "http://" ).</p>
                <p>     $_SERVER [ 'HTTP_HOST' ]. '/sys'. @@ SYS_SYS. '/'. @@ SYS_LANG. '/'. @@ SYS_SKIN.</p>
                <p>     "/cases/cases_ShowDocument?a= $fileId &v= {$aFile['DOC_VERSION']} " ;</p>
                <p>= novo G ( ) ;</p>
                <p>@@ filePath = PATH_DOCUMENT. $g -> getPathFromUID ( $aFile [ "APP_UID" ] ). PATH_SEP. $fileId.</p>
                <p>     '_'. $aFile [ 'DOC_VERSION' ]. '.'. pathinfo ( @@ nomedoarquivo, PATHINFO_EXTENSION ) ;</p>
                <p>}</p>
                <p>As variáveis @@fileUploader, @@filename, @@fileComment, @@dateUploaded e @@fileUrl podem ser usadas em um arquivo de modelo para um email ou documento de saída ou podem ser as variáveis associadas a controles em um formulário dinâmico. Para exibir um link em um formulário dinâmico para baixar o arquivo, coloque @@fileUrlna propriedade src (costumava ser chamada href ) do controle Link. Consulte Manipulando links em gatilhos.</p>


        </article>

    </section>

   
    <footer>
        <div class="container-footer">
            <div class="row-footer">
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Selo de Qualidade</h4>

                    <figure>
                        <img src="../_imagens/impacto-logo-branco.png" alt="">
                    </figure>

                </div>
                <!--end footer-col-->
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Endereço</h4>
                    <p>Impacto Positivo Com e Serv Inf Ltda</p>
                    <p>Avenida Nações Unidas, 17-17</p>
                    <p>Vila Santo Antônio</p>
                    <p>17015-903, Bauru, SP</p>
                </div>
                <!--end footer-col-->
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Mídias Sociais</h4>
                    <div class="medias-sociais">
                        <a href="http://gestorexpress.com.br/" target="_blank"><i class="fa-solid fa-globe"></i></a>                        
                        <a href="https://www.facebook.com/gestorexpress.bpm" target="_blank"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="https://www.linkedin.com/showcase/gestorexpress/?viewAsMember=true" target="_blank"><i class="fa-brands fa-linkedin-in"></i></a>
                        <a href="https://www.youtube.com/channel/UCo1oOgyK-VSr3ntT7FFjAOw" target="_blank""><i class="fa-brands fa-youtube"></i></a>
                    </div>
                </div>
                <!--end footer-col-->
                <!-- footer col -->
                <div class="footer-col">
                    <h4>Subescreva-se</h4>
                    <!-- form sub -->             
                    <div class="form-sub">
                        <form>
                            <input type="email" aria-placeholder="Digite o seu e-mail" required>
                            <button>Subescrever</button>
                        </form>
                    </div>
                    <!-- form sub -->        

                </div> 
                <!--end footer-col-->
            </div>
        </div>
    </footer>
</main>
</body>
</html>